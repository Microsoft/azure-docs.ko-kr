---
title: Azure VM의 SQL Server에 대한 SQL 취약성 평가
description: Azure Virtual Machines에서 실행되는 SQL Server 데이터베이스에 대한 SQL 취약성 평가를 설명합니다.
services: virtual-machines-windows
author: MashaMSFT
ms.service: virtual-machines-sql
ms.subservice: security
ms.topic: conceptual
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 12/02/2020
ms.author: mathoma
ms.openlocfilehash: 0f549d19915caa2e4f58ba1987b63c3ed930d1f9
ms.sourcegitcommit: 32e0fedb80b5a5ed0d2336cea18c3ec3b5015ca1
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/30/2021
ms.locfileid: "105565489"
---
# <a name="sql-vulnerability-assessment-for-sql-server-on-azure-vms"></a>Azure VM의 SQL Server에 대한 SQL 취약성 평가
[!INCLUDE[appliesto-sqlvm](../../includes/appliesto-sqlvm.md)]

SQL VA(취약성 평가)는 데이터베이스의 잠재적인 취약성을 검색, 추적하여 수정할 수 있는 간편하게 구성할 수 있는 서비스입니다. Azure VM의 SQL Server에 대한 데이터베이스 보안을 사전에 개선하는 데 사용합니다. 

취약성 평가는 고급 SQL 보안 기능용 통합 패키지인 [Azure Defender for SQL](../../database/azure-defender-for-sql.md) 제품에 포함되어 있습니다. Azure Defender for SQL 포털 또는 Azure Security Center를 통해 취약성 평가에 액세스하고 관리할 수 있습니다. 

## <a name="overview"></a>개요

SQL VA(취약성 평가)는 보안 상태를 살펴볼 수 있게 하는 서비스입니다. 취약성 평가에는 보안 문제를 해결하고 데이터베이스 보안을 강화하는 실행 가능한 단계가 포함됩니다. 이 도구를 사용하여 다음과 같은 도움을 받을 수 있습니다. 

- 데이터베이스 검색 보고서가 필요한 준수 요구 사항 충족 
- 데이터 개인 정보 보호 표준 충족 
- 변경 사항을 추적하기 어려운 동적 데이터베이스 환경 모니터링 

취약성 평가는 보안 취약성에 플래그를 지정하는 규칙의 기술 자료를 활용하는 검색 서비스입니다. 잘못된 구성, 과도한 권한, 보호되지 않는 민감한 데이터 등 모범 사례의 편차를 강조합니다. 

규칙은 Microsoft의 모범 사례를 기반으로 하고 데이터베이스와 중요한 데이터에 가장 큰 위험을 제공하는 보안 문제에 초점을 맞춥니다. 이러한 규칙은 데이터베이스 레벨 문제 및 서버 수준 보안 문제(예: 서버 방화벽 설정 및 서버 수준 권한)에 모두 적용됩니다. 또한 이러한 규칙은 규정 준수 표준을 충족하는 다양한 규정 본문의 여러 요구 사항을 나타냅니다. 

검색 결과에는 각 문제를 해결하는 실행 가능한 단계가 포함되며 해당하는 경우 사용자 지정된 재구성 스크립트가 제공됩니다. 다음 사항에 대해 허용 가능한 기준을 설정하여 사용자 환경에 대한 평가 보고서를 사용자 지정할 수 있습니다. 

- 권한 구성 
- 기능 구성 
- 데이터베이스 설정 

## <a name="enable-sql-va"></a>SQL VA 사용

머신에서 Azure Defender for SQL Server를 사용하도록 설정하여 취약성 평가를 구현합니다. 

Azure Defender for SQL Server를 사용하려면 다음 단계를 수행합니다.

1. [SQL IaaS 에이전트 확장을 설치합니다](sql-agent-extension-manually-register-single-vm.md).
1. [Log Analytics 에이전트 자동 프로비저닝을 사용하도록 설정합니다](../../../security-center/security-center-enable-data-collection.md#auto-provision-mma).
1. [선택적 Security Center 플랜을 사용하도록 설정합니다](../../../security-center/defender-for-sql-usage.md#step-2-enable-the-optional-plan-in-security-centers-pricing-and-settings-page).

취약성 평가는 Azure Defender for SQL의 일부이므로, Azure Defender가 가상 머신에서 사용하도록 설정되면 데이터베이스는 12시간마다 자동으로 검색되면서 보안 취약성을 식별합니다. 결과는 Azure Defender for SQL로 보호되는 SQL 데이터 자산을 중앙에서 집중적으로 보기 위해 Azure Security Center로 전송됩니다. 

> [!NOTE]
> 검색은 간단하고 안전하며, 실행하는 데 데이터베이스당 몇 초 밖에 걸리지 않으며 완전히 읽기 전용입니다. 데이터베이스에 어떠한 변경 사항도 발생하지 않습니다. 

## <a name="view-report"></a>보고서 보기

데이터베이스 보고서는 보안 상태를 대략적으로 보여 줍니다. 발견된 이슈 수 및 해당 심각도를 나열합니다. 결과에는 모범 사례의 문제에 대한 경고 및 데이터베이스 보안 주체/역할과 관련 권한 같은 보안 관련 설정의 스냅샷이 포함됩니다.  

보고서를 보려면 다음 단계를 수행합니다.

1. Azure Portal에서 [Azure Security Center](https://ms.portal.azure.com/#blade/Microsoft_Azure_Security/SecurityMenuBlade/0)로 이동합니다.
1. **일반** 메뉴에서 **권장 사항** 을 선택합니다. 

   :::image type="content" source="media/sql-vulnerability-assessment-enable/recommendations-in-security-center.png" alt-text="Azure Portal에서 Azure Security Center의 설정에 있는 권장 사항으로 이동":::

1. 권장 사항까지 아래로 스크롤하고 **취약성 수정** 을 확장합니다.
1. **머신의 SQL 서버에 대한 취약성 평가 결과를 수정해야 함** 을 선택합니다. 

   :::image type="content" source="media/sql-vulnerability-assessment-enable/report-in-security-center.png" alt-text="Azure Security Center의 권장 사항 블레이드에서 보고서 보기":::

이 페이지에는 구독의 모든 SQL Server VM에 대해 식별된 보안 취약성 집계가 표시됩니다. 


## <a name="analyze-results"></a>결과 분석

결과를 검토하고 보고서에서 환경의 실제 보안 문제를 나타내는 결과를 확인합니다. 각 실패한 결과로 드릴다운하여 결과의 영향과 각 보안 검사가 실패한 이유를 이해합니다.  

:::image type="content" source="media/sql-vulnerability-assessment-enable/sample-report.png" alt-text="결과를 검토하고 보고서에서 환경의 실제 보안 문제를 나타내는 결과를 확인합니다.":::

## <a name="set-baseline"></a>초기 계획 설정 

평가 결과를 검토할 때 결과를 해당 환경에서 허용 가능한 기준으로 표시할 수 있습니다. 기준은 기본적으로 결과를 보고하는 방법의 사용자 지정입니다. 기준과 일치하는 결과는 후속 검색을 통과하는 것으로 간주합니다. 보안 상태 기준을 설정한 후에는, 기준에서 편차가 발생했을 때만 취약성 평가에서 보고합니다. 이렇게 하면 관련 문제에 집중할 수 있습니다. 

:::image type="content" source="media/sql-vulnerability-assessment-enable/analyze-report-for-details.png" alt-text="평가 결과를 검토할 때 결과를 해당 환경에서 허용 가능한 기준으로 표시할 수 있습니다.":::

## <a name="export-results"></a>결과 내보내기

Azure Security Center의 [연속 내보내기](../../../security-center/continuous-export.md) 기능을 사용하여 취약성 평가 결과를 Azure 이벤트 허브 또는 Log Analytics 작업 영역으로 내보낼 수 있습니다. 


## <a name="next-steps"></a>다음 단계

자세한 내용은 [Azure SQL의 SQL 취약성 평가](../../database/sql-vulnerability-assessment.md) 및 [Azure Security Center를 사용하여 SQL 데이터 방어](../../../security-center/security-center-introduction.md)를 참조하세요.

