---
title: IBM 메인프레임에서 3270 앱에 연결
description: Azure Logic Apps 및 IBM 3270 커넥터를 사용 하 여 Azure에서 3270 화면 기반 앱 통합 및 자동화
services: logic-apps
ms.suite: integration
author: ChristopherHouser
ms.author: chrishou
ms.reviewer: estfan, valthom
ms.topic: article
ms.date: 03/06/2019
tags: connectors
ms.openlocfilehash: 309cf59c4b27c2a5906acfc519edd5306dece2d5
ms.sourcegitcommit: 76b48a22257a2244024f05eb9fe8aa6182daf7e2
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 12/03/2019
ms.locfileid: "74789242"
---
# <a name="integrate-3270-screen-driven-apps-on-ibm-mainframes-with-azure-by-using-azure-logic-apps-and-ibm-3270-connector"></a>Azure Logic Apps 및 IBM 3270 커넥터를 사용 하 여 IBM 메인프레임에서 3270 화면 기반 앱을 Azure와 통합

> [!NOTE]
> 이 커넥터는 [*공개 미리 보기*](https://azure.microsoft.com/support/legal/preview-supplemental-terms/)상태입니다. 

Azure Logic Apps 및 IBM 3270 커넥터를 사용 하 여 일반적으로 3270 에뮬레이터 화면을 탐색 하 여 구동 하는 IBM 메인프레임 앱에 액세스 하 고 실행할 수 있습니다. 이렇게 하면 Azure Logic Apps를 사용 하 여 자동화 된 워크플로를 만들어 IBM 메인프레임 앱을 Azure, Microsoft 및 기타 앱, 서비스 및 시스템과 통합할 수 있습니다. 커넥터는 TN3270 프로토콜을 사용 하 여 IBM 메인프레임과 통신 하 고 Azure Government 및 Azure 중국 21Vianet을 제외 하 고 모든 Azure Logic Apps 지역에서 사용할 수 있습니다. 논리 앱을 처음 접하는 경우 [Azure Logic Apps란?](../logic-apps/logic-apps-overview.md)을 검토하세요.

이 문서에서는 3270 커넥터 사용에 대한 다음과 같은 측면을 설명 합니다. 

* Azure Logic Apps에서 IBM 3270 커넥터를 사용 하는 이유 및 커넥터에서 3270 화면 기반 앱을 실행 하는 이유

* 3270 커넥터를 사용 하기 위한 필수 구성 요소 및 설정

* 논리 앱에 3270 커넥터 작업을 추가 하는 단계

## <a name="why-use-this-connector"></a>이 커넥터를 사용 하는 이유

IBM 메인프레임에서 앱에 액세스 하려면 일반적으로 "녹색 화면" 이라고 하는 3270 터미널 에뮬레이터를 사용 합니다. 이 방법은 시간 테스트 방식 이지만 제한 사항이 있습니다. Host Integration Server ()를 사용 하면 이러한 앱을 직접 사용할 수 있지만 화면 및 비즈니스 논리를 분리 하는 것이 가능 하지 않을 수 있습니다. 또는 호스트 응용 프로그램의 작동 방식에 대한 정보가 더 이상 없을 수도 있습니다.

이러한 시나리오를 확장 하기 위해 Azure Logic Apps의 IBM 3270 커넥터는 특정 작업에 사용 되는 호스트 화면을 기록 하는 데 사용 하는 3270 디자인 도구와 작동 하 고, 메인프레임 앱을 통해 해당 작업에 대한 탐색 흐름을 정의 하 고, 다음을 정의 합니다. 해당 작업에 대한 입력 및 출력 매개 변수가 있는 메서드. 디자인 도구는 논리 앱에서 해당 작업을 나타내는 작업을 호출할 때 해당 정보를 3270 커넥터에서 사용 하는 메타 데이터로 변환 합니다.

디자인 도구에서 메타 데이터 파일을 생성 한 후에는 해당 파일을 Azure의 통합 계정에 추가 합니다. 이렇게 하면 논리 앱에서 3270 커넥터 작업을 추가할 때 앱의 메타 데이터에 액세스할 수 있습니다. 커넥터는 통합 계정에서 메타 데이터 파일을 읽고, 3270 화면에서 탐색을 처리 하 고, 3270 커넥터 작업에 대한 매개 변수를 동적으로 표시 합니다. 그런 다음 호스트 응용 프로그램에 데이터를 제공할 수 있으며 커넥터가 결과를 논리 앱에 반환 합니다. 이렇게 하면 레거시 앱을 Azure, Microsoft 및 기타 앱, 서비스 및 Azure Logic Apps 지원 되는 시스템과 통합할 수 있습니다.

## <a name="prerequisites"></a>전제 조건

* Azure 구독. Azure 구독이 없는 경우 [체험 Azure 계정에 등록](https://azure.microsoft.com/free/)합니다.

* [논리 앱 만드는 방법](../logic-apps/quickstart-create-first-logic-app-workflow.md)에 관한 기본 지식

* 권장: [ISE (integration service environment)](../logic-apps/connect-virtual-network-vnet-isolated-environment.md) 

  논리 앱을 만들고 실행 하는 위치로이 환경을 선택할 수 있습니다. ISE는 논리 앱에서 Azure virtual network 내에서 보호 되는 리소스에 대한 액세스를 제공 합니다.

* 3270 화면 기반 앱을 자동화 하 고 실행 하는 데 사용할 논리 앱입니다.

  IBM 3270 커넥터에는 트리거가 없으므로 다른 트리거를 사용 하 여 **되풀이** 트리거와 같은 논리 앱을 시작 합니다. 그러면 3270 커넥터 작업을 추가할 수 있습니다. 시작 하려면 [빈 논리 앱을 만듭니다](../logic-apps/quickstart-create-first-logic-app-workflow.md). 
  ISE를 사용 하는 경우 논리 앱의 위치로 ISE를 선택 합니다.

* [3270 디자인 도구를 다운로드 하 여 설치](https://aka.ms/3270-design-tool-download)합니다.
유일한 필수 구성 요소는 [Microsoft .NET Framework 4.6.1](https://aka.ms/net-framework-download)입니다.

  이 도구는 3270 커넥터 작업으로 추가 및 실행 되는 앱의 작업에 대한 화면, 탐색 경로, 메서드 및 매개 변수를 기록 하는 데 도움이 됩니다. 이 도구는 메인프레임 앱을 구동 하는 데 사용 하기 위해 커넥터에 필요한 메타 데이터를 제공 하는 HIDX (Host Integration Designer XML) 파일을 생성 합니다.
  
  이 도구를 다운로드 하 고 설치한 후 호스트에 연결 하려면 다음 단계를 수행 합니다.

  1. 3270 디자인 도구를 엽니다. **세션** 메뉴에서 **호스트 세션**을 선택 합니다.
  
  1. TN3270 호스트 서버 정보를 제공 합니다.

* HIDX 파일을 맵으로 저장 하는 위치에 해당 하는 [통합 계정](../logic-apps/logic-apps-enterprise-integration-create-integration-account.md)으로, 논리 앱이 해당 파일의 메타 데이터 및 메서드 정의에 액세스할 수 있습니다. 

  통합 계정이 사용 중인 논리 앱에 연결 되어 있는지 확인 합니다. 또한 ISE를 사용 하는 경우 통합 계정의 위치가 논리 앱에서 사용 하는 것과 동일한 ISE 인지 확인 합니다.

* 메인프레임 앱을 호스트 하는 TN3270 서버에 대한 액세스

<a name="define-app-metadata"></a>

## <a name="create-metadata-overview"></a>메타 데이터 만들기 개요

3270 화면 기반 앱에서 화면 및 데이터 필드는 시나리오 마다 고유 하므로 3270 커넥터에는 앱에 대한이 정보가 필요 하므로 메타 데이터로 제공할 수 있습니다. 이 메타 데이터는 논리 앱에서 화면을 식별 하 고 인식 하는 데 도움이 되는 정보를 설명 하 고, 화면 간 탐색 방법, 데이터를 입력 하는 위치 및 결과가 나타날 위치를 설명 합니다. 이 메타 데이터를 지정 하 고 생성 하려면 나중에 자세히 설명 된 대로 이러한 특정 *모드*또는 단계를 안내 하는 3270 디자인 도구를 사용 합니다.

* **캡처**:이 모드에서는 은행 잔액을 가져오는 등의 메인프레임 앱을 사용 하 여 특정 작업을 완료 하는 데 필요한 화면을 기록 합니다.

* **탐색**:이 모드에서는 특정 작업에 대한 메인프레임 앱 화면을 탐색 하는 방법에 대한 계획 또는 경로를 지정 합니다.

* **메서드**:이 모드에서 화면 탐색 경로를 설명 하는 메서드 (예: `GetBalance`)를 정의 합니다. 메서드의 입력 및 출력 매개 변수로 사용할 필드를 각 화면에서 선택할 수도 있습니다.

### <a name="unsupported-elements"></a>지원 되지 않는 요소

디자인 도구는 다음 요소를 지원 하지 않습니다.

* 부분적 IBM 기본 매핑 지원 (BMS) maps: BMS 맵을 가져오는 경우 디자인 도구는 부분 화면 정의를 무시 합니다.
* In/Out 매개 변수: In/Out 매개 변수를 정의할 수 없습니다.
* 메뉴 처리: 미리 보기 중에는 지원 되지 않습니다.
* 배열 처리: 미리 보기 중에는 지원 되지 않습니다.

<a name="capture-screens"></a>

## <a name="capture-screens"></a>화면 캡처

이 모드에서는 각 3270 화면에서 해당 화면을 고유 하 게 식별 하는 항목을 표시 합니다. 예를 들어 특정 텍스트 및 비어 있지 않은 필드와 같이 텍스트 줄 또는 보다 복잡 한 조건 집합을 지정할 수 있습니다. 호스트 서버에 대한 라이브 연결을 통해 이러한 화면을 기록 하거나 IBM BMS (기본 매핑 지원) 맵에서이 정보를 가져올 수 있습니다. 라이브 연결은 TN3270 에뮬레이터를 사용 하 여 호스트에 연결 합니다. 각 커넥터 작업은 세션에 연결 하 여 시작 하 고 세션에서 연결을 끊는 작업으로 끝나는 단일 작업에 매핑되어야 합니다.

1. 아직 없는 경우 3270 디자인 도구를 엽니다. 도구 모음 **에서 캡처를 선택 하** 여 캡처 모드로 전환 합니다.

1. 기록을 시작 하려면 F5 키를 누르거나 **기록** 메뉴에서 **기록 시작**을 선택 합니다. 

1. **세션** 메뉴에서 **연결**을 선택 합니다.

1. **캡처** 창의 앱 첫 화면에서 시작 하 여 기록 중인 특정 작업에 대한 앱을 단계별로 실행 합니다.

1. 작업을 완료 한 후에는 일반적으로 응용 프로그램에서 로그 아웃 합니다.

1. **세션** 메뉴에서 **연결 끊기**를 선택 합니다.

1. 기록을 중지 하려면 Shift + F5 키를 누르거나 **기록** 메뉴에서 **기록 중지**를 선택 합니다.

   작업에 대한 화면을 캡처한 후 디자이너 도구는 해당 화면을 나타내는 축소판 그림을 표시 합니다. 다음 축소판 그림에 대한 몇 가지 참고 사항:

   * 캡처된 화면에 포함 된 화면에는 "Empty" 라는 화면이 있습니다.

     처음으로 [Cics](https://www.ibm.com/it-infrastructure/z/cics)에 연결 하는 경우 "Clear" 키를 전송 해야 실행 하려는 트랜잭션의 이름을 입력할 수 있습니다. "Clear" 키를 보내는 화면에는 화면 인식 편집기를 사용 하 여 추가할 수 있는 화면 제목과 같은 *인식 특성이*없습니다. 이 화면을 나타내기 위해 축소판 그림에는 "Empty" 라는 화면이 포함 됩니다. 나중에이 화면을 사용 하 여 트랜잭션 이름을 입력 하는 화면을 나타낼 수 있습니다.

   * 기본적으로 캡처된 화면의 이름은 화면에서 첫 번째 단어를 사용 합니다. 해당 이름이 이미 있는 경우 디자인 도구는 이름에 밑줄 및 숫자 (예: "WBGB" 및 "WBGB_1")를 추가 합니다.

1. 캡처된 화면에 좀 더 의미 있는 이름을 지정 하려면 다음 단계를 수행 합니다.

   1. **호스트 화면** 창에서 이름을 바꿀 화면을 선택 합니다.

   1. 같은 창의 아래쪽에 있는 동일한 창에서 **화면 이름** 속성을 찾습니다.

   1. 현재 화면 이름을 보다 설명적인 이름으로 변경 합니다.

1. 이제 각 화면을 식별 하는 필드를 지정 합니다.

   3270 데이터 스트림을 사용 하 여 화면에는 기본 식별자가 없으므로 각 화면에서 고유한 텍스트를 선택 해야 합니다. 복잡 한 시나리오의 경우 여러 조건을 지정할 수 있습니다. 예를 들어 고유한 텍스트 및 특정 조건이 있는 필드를 지정할 수 있습니다.

인식 필드 선택을 완료 한 후 다음 모드로 이동 합니다.

### <a name="conditions-for-identifying-repeated-screens"></a>반복 화면을 식별 하는 조건

커넥터에서 화면을 탐색 하 고 구분 하기 위해 일반적으로 화면에서 캡처된 화면 간의 식별자로 사용할 수 있는 고유한 텍스트를 찾습니다. 반복 되는 화면의 경우 더 많은 식별 방법이 필요할 수 있습니다. 예를 들어, 한 화면에 유효한 값이 반환 되는 경우를 제외 하 고 동일한 것을 표시 하는 두 개의 화면이 있고 다른 화면에서 오류 메시지를 반환 한다고 가정 합니다.

디자인 도구에서 화면 인식 편집기를 사용 하 여 "계정 잔액 가져오기"와 같은 화면 제목 등의 *인식 특성*을 추가할 수 있습니다. 분기 경로가 있고 두 분기가 동일한 화면을 반환 하지만 결과가 다른 경우 다른 인식 특성이 필요 합니다. 런타임에 커넥터는이 특성을 사용 하 여 현재 분기와 포크를 확인 합니다. 사용할 수 있는 조건은 다음과 같습니다.

* 특정 값:이 값은 지정 된 위치에서 지정 된 문자열과 일치 합니다.
* 특정 값이 아닙니다 .이 값은 지정 된 위치에 있는 지정 된 문자열과 일치 하지 않습니다.
* Empty:이 필드는 비어 있습니다.
* 비어 있지 않음:이 필드는 비어 있지 않습니다.

자세한 내용은이 항목의 뒷부분에 나오는 [예제 탐색 계획](#example-plan) 을 참조 하세요.

<a name="define-navigation"></a>

## <a name="define-navigation-plans"></a>탐색 계획 정의

이 모드에서는 특정 작업에 대한 메인프레임 앱 화면을 탐색 하기 위한 흐름 또는 단계를 정의 합니다. 예를 들어, 한 경로가 올바른 결과를 생성 하는 동안 앱에서 사용할 수 있는 경로가 두 개 이상 있을 수 있으며, 다른 경로에 오류가 발생 하는 경우가 있습니다. 각 화면에 대해 `CICSPROD <enter>`와 같이 다음 화면으로 이동 하는 데 필요한 키 입력을 지정 합니다.

> [!TIP]
> 동일한 연결 및 연결 끊기 화면을 사용 하는 몇 가지 작업을 자동화 하는 경우 디자인 도구는 특별 한 연결 및 연결 끊기 계획 유형을 제공 합니다. 이러한 계획을 정의할 때 탐색 계획의 시작과 끝에 이러한 계획을 추가할 수 있습니다.

### <a name="guidelines-for-plan-definitions"></a>계획 정의에 대한 지침

* 연결 및 연결 끊기로 시작 하는 모든 화면을 포함 합니다.

* 독립 실행형 계획을 만들거나 연결 및 연결 끊기 계획을 사용 하 여 모든 트랜잭션에 공통적인 일련의 화면을 다시 사용할 수 있습니다.

  * 연결 계획의 마지막 화면은 탐색 계획의 첫 번째 화면과 동일한 화면 이어야 합니다.

  * 연결 끊기 계획의 첫 번째 화면은 탐색 계획의 마지막 화면과 동일한 화면 이어야 합니다.

* 캡처된 화면에 반복 되는 많은 화면이 포함 될 수 있으므로 계획에서 반복 되는 화면의 인스턴스를 하나만 선택 하 여 사용 합니다. 반복 화면의 몇 가지 예는 다음과 같습니다.

  * 로그인 화면 (예: **MSG-10 화면)**
  * CICS에 대한 시작 화면
  * "Clear" 또는 **빈** 화면

<a name="create-plans"></a>

### <a name="create-plans"></a>플랜 만들기

1. 3270 디자인 도구의 도구 모음 **에서 탐색을 선택 하** 여 탐색 모드로 전환 합니다.

1. 계획을 시작 하려면 **탐색** 창에서 **새 계획**을 선택 합니다.

1. **새 계획 이름 선택**아래에서 계획의 이름을 입력 합니다. **유형** 목록에서 계획 유형을 선택 합니다.

   | 계획 유형 | 설명 |
   |-----------|-------------|
   | **프로세스** | 독립 실행형 또는 결합 된 계획 |
   | **연결** | 연결 계획의 경우 |
   | **케이블** | 연결 끊기 계획의 경우 |
   |||

1. **호스트 화면** 창에서 캡처된 축소판 그림을 **탐색** 창의 탐색 계획 화면으로 끌어 옵니다.

   트랜잭션 이름을 입력할 수 있는 빈 화면을 표시 하려면 "빈" 화면을 사용 합니다.

1. 정의 하는 작업을 설명 하는 순서 대로 화면을 정렬 합니다.

1. 분기와 조인을 비롯 하 여 화면 간의 흐름 경로를 정의 하려면 디자인 도구의 도구 모음에서 **흐름**을 선택 합니다.

1. 흐름에서 첫 번째 화면을 선택 합니다. 흐름에서 다음 화면으로 연결을 끌어서 그립니다.

1. 각 화면에 대해 **지원 키** 속성의 값을 제공 하 고 (주의 식별자), 흐름을 다음 화면으로 이동 하는 **고정 텍스트** 속성에 대한 값을 제공 합니다.

   지원 키 또는 보조 키와 고정 텍스트가 모두 있을 수 있습니다.

탐색 계획을 완료 한 후 [에는 다음 모드에서 메서드를 정의할](#define-method)수 있습니다.

<a name="example-plan"></a>

### <a name="example"></a>예제

이 예에서는 다음과 같은 단계를 포함 하는 "WBGB" 라는 CICS 트랜잭션을 실행 한다고 가정 합니다. 

* 첫 번째 화면에서 이름 및 계정을 입력 합니다.
* 두 번째 화면에서 계정 잔액을 가져옵니다.
* "빈" 화면으로 종료 합니다.
* CICS에서 "MSG-10" 화면으로 로그 아웃 합니다.

또한 이러한 단계를 반복 하지만 오류를 표시 하는 화면을 캡처할 수 있도록 잘못 된 데이터를 입력 하는 것으로 가정 합니다. 캡처한 화면은 다음과 같습니다.

* 메시지-10
* CICS 시작
* Empty
* WBGB_1 (입력)
* WBGB_2 (오류)
* Empty_1
* 메시지-10_1

여기에는 많은 화면이 고유 이름이 제공 되지만 일부 화면은 동일한 화면 (예: "MSG-10" 및 "Empty")입니다. 반복 되는 화면의 경우 계획에서 해당 화면에 대해 인스턴스를 하나만 사용 합니다. 다음은 독립 실행형 계획, 연결 계획, 연결 끊기 계획 및 결합 된 계획이 어떻게 표시 되는지 보여 주는 예입니다.

* 독립 실행형 계획

  ![독립 실행형 탐색 계획](./media/connectors-create-api-3270/standalone-plan.png)

* 연결 계획

  ![연결 계획](./media/connectors-create-api-3270/connect-plan.png)

* 계획 연결 끊기

  ![계획 연결 끊기](./media/connectors-create-api-3270/disconnect-plan.png)

* 결합 된 계획

  ![결합 된 계획](./media/connectors-create-api-3270/combined-plan.png)

#### <a name="example-identify-repeated-screens"></a>예: 반복 되는 화면 식별

커넥터에서 화면을 탐색 하 고 구분 하기 위해 일반적으로 캡처된 화면에서 식별자로 사용할 수 있는 고유한 텍스트를 화면에 찾습니다. 반복 되는 화면의 경우 더 많은 식별 방법이 필요할 수 있습니다. 예제 계획에는 비슷한 화면을 볼 수 있는 분기가 있습니다. 한 화면에서 계정 잔액을 반환 하 고 다른 화면은 오류 메시지를 반환 합니다.

디자인 도구를 사용 하면 화면 인식 편집기를 사용 하 여 "계정 잔액 가져오기" 라는 화면 제목을 사용 하 여 인식 특성을 추가할 수 있습니다. 비슷한 화면을 사용 하는 경우 다른 특성이 필요 합니다. 런타임에 커넥터는 분기 및 포크를 결정 하는 데 이러한 특성을 사용 합니다.

* 계정 잔액의 화면으로 유효한 입력을 반환 하는 분기에서는 "비어 있지 않음" 조건이 있는 필드를 추가할 수 있습니다.

* 오류가 발생 하 여를 반환 하는 분기에서 "empty" 조건이 있는 필드를 추가할 수 있습니다.

<a name="define-method"></a>

## <a name="define-methods"></a>메서드 정의

이 모드에서는 탐색 계획과 연결 된 메서드를 정의 합니다. 각 메서드 매개 변수에 대해 문자열, 정수, 날짜 또는 시간 등의 데이터 형식을 지정 합니다. 완료 되 면 라이브 호스트에서 메서드를 테스트 하 고 메서드가 예상 대로 작동 하는지 확인할 수 있습니다. 그런 다음 메타 데이터 파일 또는 HIDX (Host Integration Designer XML) 파일을 생성 합니다. 여기에는 IBM 3270 커넥터에 대한 작업을 만들고 실행 하는 데 사용할 메서드 정의가 있습니다.

1. 3270 디자인 도구의 도구 모음에서 메서드 모드를 입력할 수 있도록 **메서드** 를 선택 합니다. 

1. **탐색** 창에서 원하는 입력 필드가 있는 화면을 선택 합니다.

1. 메서드의 첫 번째 입력 매개 변수를 추가 하려면 다음 단계를 수행 합니다.

   1. **캡처** 창의 3270 에뮬레이터 화면에서 필드 안의 텍스트가 아닌 전체 필드를 선택 하 여 첫 번째 입력으로 사용할 수 있습니다.

      > [!TIP]
      > 모든 필드를 표시 하 고 전체 필드를 선택 했는지 확인 하려면 **보기** 메뉴에서 **모든 필드**를 선택 합니다.

   1. 디자인 도구의 도구 모음에서 **입력 필드**를 선택 합니다. 

   입력 매개 변수를 더 추가 하려면 각 매개 변수에 대해 이전 단계를 반복 합니다.

1. 메서드의 첫 번째 출력 매개 변수를 추가 하려면 다음 단계를 수행 합니다.

   1. **캡처** 창의 3270 에뮬레이터 화면에서 필드 안의 텍스트가 아니라 전체 필드를 선택 하 여 첫 번째 출력으로 원하는 필드를 선택 합니다.

      > [!TIP]
      > 모든 필드를 표시 하 고 전체 필드를 선택 했는지 확인 하려면 **보기** 메뉴에서 **모든 필드**를 선택 합니다.

   1. 디자인 도구의 도구 모음에서 **출력 필드**를 선택 합니다.

   출력 매개 변수를 더 추가 하려면 각 매개 변수에 대해 이전 단계를 반복 합니다.

1. 메서드의 매개 변수를 모두 추가한 후에는 각 매개 변수에 대해 이러한 속성을 정의 합니다.

   | 속성 이름 | 가능한 값 | 
   |---------------|-----------------|
   | **데이터 형식** | Byte, Date Time, Decimal, Int, Long, Short, String |
   | **필드 채우기 기술** | 매개 변수는 다음과 같은 채우기 형식을 지원 합니다. 필요한 경우 공백으로 채웁니다. <p><p>- **형식**: 필드에 순차적으로 문자를 입력 합니다. <p>- **채우기**: 필드의 내용을 문자로 바꾸고 필요한 경우 공백으로 채웁니다. <p>- **EraseEofType**: 필드를 지운 다음 필드에 순차적으로 문자를 입력 합니다. |
   | **서식 문자열** | 일부 매개 변수 데이터 형식은 텍스트를 화면에서 .NET 데이터 형식으로 변환 하는 방법을 3270 커넥터에 알리는 형식 문자열을 사용 합니다. <p><p>- **datetime**: datetime 형식 문자열은 [.net 사용자 지정 날짜 및 시간 서식 문자열](https://docs.microsoft.com/dotnet/standard/base-types/custom-date-and-time-format-strings)을 따릅니다. 예를 들어 날짜 `06/30/2019`는 `MM/dd/yyyy`형식 문자열을 사용 합니다. <p>- **decimal**: 10 진수 형식 문자열은 [COBOL Picture 절](https://www.ibm.com/support/knowledgecenter/SS6SG3_5.2.0/com.ibm.cobol52.ent.doc/PGandLR/ref/rlddepic.html)을 사용 합니다. 예를 들어 `100.35` 숫자는 `999V99`형식 문자열을 사용 합니다. |
   |||

## <a name="save-and-view-metadata"></a>메타 데이터 저장 및 보기

메서드를 정의한 후 메서드를 테스트 하기 전에 지금까지 정의한 모든 정보를 RAP (rap) 파일에 저장 합니다.
모든 모드 중에 언제 든 지이 RAP 파일에 저장할 수 있습니다. 디자인 도구에는이 위치에서 디자인 도구의 설치 폴더로 이동 하 고 "Microsoft.samples.biztalk.woodgrovebank.stubpendingtransactions 고" 파일을 열어 검토할 수 있는 샘플 RAP 파일도 포함 되어 있습니다.

`..\Program Files\Microsoft Host Integration Server - 3270 Design Tool\SDK\WoodgroveBank.rap`

그러나 샘플 RAP 파일의 변경 내용을 저장 하거나 파일을 디자인 도구의 설치 폴더에 유지 하는 동안 샘플 RAP 파일에서 HIDX 파일을 생성 하는 경우 "액세스 거부" 오류가 발생할 수 있습니다. 기본적으로 디자인 도구는 관리자 권한 없이 Program Files 폴더에 설치 됩니다. 오류가 발생 하면 다음 해결 방법 중 하나를 시도해 보세요.

* 샘플 파일을 다른 위치에 복사 합니다.
* 관리자 권한으로 디자인 도구를 실행 합니다.
* SDK 폴더의 소유자로 설정 합니다.

## <a name="test-your-method"></a>메서드 테스트

1. 메서드 모드의 경우에도 라이브 호스트에 대해 메서드를 실행 하려면 F5 키를 누르거나 디자인 도구의 도구 모음에서 **실행**을 선택 합니다.

   > [!TIP]
   > 언제 든 지 모드를 변경할 수 있습니다. **파일** 메뉴에서 **모드**를 선택한 다음 원하는 모드를 선택 합니다.

1. 매개 변수의 값을 입력 하 고 **확인**을 선택 합니다.

1. 다음 화면으로 이동 하려면 **다음**을 선택 합니다.

1. 완료 되 면 출력 매개 변수 값을 표시 하는 **완료**를 선택 합니다.

<a name="add-metadata-integration-account"></a>

## <a name="generate-and-upload-hidx-file"></a>HIDX 파일 생성 및 업로드

준비가 되 면 HIDX 파일을 생성 하 여 통합 계정에 업로드할 수 있습니다. 3270 디자인 도구는 RAP 파일을 저장 한 새 하위 폴더에 HIDX 파일을 만듭니다.

1. 3270 디자인 도구의 도구 모음에서 **코드 생성**을 선택 합니다.

1. RAP 파일이 들어 있는 폴더로 이동 하 고 HIDX 파일을 생성 한 후 도구에서 만든 하위 폴더를 엽니다. 도구가 HIDX 파일을 만들었는지 확인 합니다.

1. [Azure Portal](https://portal.azure.com)에 로그인 하 고 통합 계정을 찾습니다.

1. 지도를 추가 하는 [이와 유사한 단계를 수행](../logic-apps/logic-apps-enterprise-integration-liquid-transform.md)하 여 통합 계정에 HIDX 파일을 맵으로 추가 합니다. 하지만 지도 유형을 선택 하는 경우 **HIDX**를 선택 합니다.

이 항목의 뒷부분에서는 먼저 IBM 3270 작업을 논리 앱에 추가할 때 통합 계정 및 호스트 서버의 이름과 같은 연결 정보를 제공 하 여 논리 앱과 호스트 서버 간의 연결을 만들라는 메시지가 표시 됩니다. . 연결을 만든 후 이전에 추가한 HIDX 파일, 실행할 메서드 및 사용할 매개 변수를 선택할 수 있습니다.

이러한 모든 단계를 완료 한 후에는 논리 앱에서 만든 작업을 사용 하 여 IBM 메인프레임에 연결 하 고, 앱에 대한 화면을 구동 하 고, 데이터를 입력 하 고, 결과를 반환 하는 등의 작업을 수행할 수 있습니다. 다른 앱, 서비스 및 시스템과 통합 하기 위해 논리 앱에 다른 작업을 계속 추가할 수도 있습니다.

<a name="run-action"></a>

## <a name="run-ibm-3270-actions"></a>IBM 3270 작업 실행

[!INCLUDE [Create connection general intro](../../includes/connectors-create-connection-general-intro.md)]

1. [Azure Portal](https://portal.azure.com)에 로그인하고 아직 열리지 않은 경우 Logic App Designer에서 논리 앱을 엽니다.

1. 작업을 추가 하려는 마지막 단계에서 **새 단계**를 선택 하 고 **작업 추가**를 선택 합니다. 

1. 검색 상자에서 **Enterprise**를 선택 합니다. 검색 상자에 "3270"을 필터로 입력 합니다. 작업 목록에서이 작업: **TN3270 연결을 통해 메인프레임 프로그램 실행** 을 선택 합니다.

   ![3270 작업 선택](./media/connectors-create-api-3270/select-3270-action.png)

   단계 사이에서 작업을 추가하려면 단계 사이에 있는 화살표 위로 포인터를 이동합니다. 
   표시되는 더하기 기호( **+** )를 선택한 다음, **작업 추가**를 선택합니다.

1. 연결이 아직 없으면 연결에 필요한 정보를 제공 하 고 **만들기**를 선택 합니다.

   | 자산 | 필수 | Value | 설명 |
   |----------|----------|-------|-------------|
   | **연결 이름** | yes | <*connection-name*> | 연결의 이름 |
   | **통합 계정 ID** | yes | <*integration-account-name*> | 통합 계정의 이름 |
   | **통합 계정 SAS URL** | yes | <*통합-계정-SAS URL*> | 통합 계정의 SAS (공유 액세스 서명) URL은 Azure Portal의 통합 계정 설정에서 생성할 수 있습니다. <p>1. 통합 계정 메뉴의 **설정**에서 **콜백 URL**을 선택 합니다. <br>2. 오른쪽 창에서 **생성 된 콜백 URL** 값을 복사 합니다. |
   | **서버** | yes | <*TN3270*> | TN3270 서비스에 대한 서버 이름 |
   | **포트** | 아닙니다. | <*TN3270*> | TN3270 서버에서 사용 하는 포트입니다. 이 값을 비워 두면 커넥터가 `23`를 기본값으로 사용 합니다. |
   | **장치 유형** | 아닙니다. | <*IBM-터미널 모델*> | 에뮬레이션할 IBM 터미널의 모델 이름 또는 번호입니다. 이 값을 비워 두면 커넥터에서 기본값을 사용 합니다. |
   | **코드 페이지** | 아닙니다. | <*코드-페이지 번호*> | 호스트의 코드 페이지 번호입니다. 이 값을 비워 두면 커넥터가 `37`를 기본값으로 사용 합니다. |
   | **논리 단위 이름** | 아닙니다. | <*논리 단위 이름*> | 호스트에서 요청할 특정 논리 단위 이름입니다. |
   | **SSL 사용?** | 아닙니다. | 설정 또는 해제 | SSL 암호화를 설정하거나 해제합니다. |
   | **호스트 ssl 인증서의 유효성을 검사 하 시겠습니까?** | 아닙니다. | 설정 또는 해제 | 서버 인증서에 대한 유효성 검사를 설정 하거나 해제 합니다. |
   ||||

   다음은 그 예입니다.

   ![연결 속성](./media/connectors-create-api-3270/connection-properties.png)

1. 작업에 필요한 정보를 제공 합니다.

   | 자산 | 필수 | Value | 설명 |
   |----------|----------|-------|-------------|
   | **Hidx 이름** | yes | <*HIDX*> | 사용 하려는 3270 HIDX 파일을 선택 합니다. |
   | **메서드 이름** | yes | <*메서드 이름*> | HIDX 파일에서 사용 하려는 메서드를 선택 합니다. 메서드를 선택한 후에는 **새 매개 변수 추가** 목록이 표시 되므로 해당 메서드와 함께 사용할 매개 변수를 선택할 수 있습니다. |
   ||||

   다음은 그 예입니다.

   **HIDX 파일 선택**

   ![HIDX 파일 선택](./media/connectors-create-api-3270/select-hidx-file.png)

   **메서드를 선택 합니다.**

   ![Select 메서드](./media/connectors-create-api-3270/select-method.png)

   **매개 변수 선택**

   ![매개 변수 선택](./media/connectors-create-api-3270/add-parameters.png)

1. 완료 되 면 논리 앱을 저장 하 고 실행 합니다.

   논리 앱의 실행이 완료 되 면 실행의 단계가 표시 됩니다. 
   성공한 단계는 확인 표시를 표시 하 고, 실패 한 단계는 문자 "X"를 표시 합니다.

1. 각 단계에 대한 입력 및 출력을 검토 하려면 해당 단계를 확장 합니다.

1. 출력을 검토 하려면 **원시 출력 참조**를 선택 합니다.

## <a name="connector-reference"></a>커넥터 참조

커넥터의 OpenAPI (이전의 Swagger) 설명에서 설명 하는 트리거, 작업 및 제한에 대한 자세한 기술 정보는 [커넥터의 참조 페이지를 참조](/connectors/si3270/)하세요.

## <a name="next-steps"></a>다음 단계

* 다른 [Logic Apps 커넥터](../connectors/apis-list.md)에 대해 알아봅니다.
