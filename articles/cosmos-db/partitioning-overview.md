---
title: Azure Cosmos DB에서 분할
description: Azure Cosmos DB 분할 및 파티션 키를 선택할 때의 모범 사례와 논리적 파티션을 관리 하는 방법에 대해 알아봅니다.
author: markjbrown
ms.author: mjbrown
ms.service: cosmos-db
ms.topic: conceptual
ms.date: 12/02/2019
ms.openlocfilehash: c781c5e12f3f678ef640c6017a768e7ac14448f9
ms.sourcegitcommit: 9405aad7e39efbd8fef6d0a3c8988c6bf8de94eb
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 12/05/2019
ms.locfileid: "74871995"
---
# <a name="partitioning-in-azure-cosmos-db"></a>Azure Cosmos DB에서 분할

Azure Cosmos DB는 분할을 사용 하 여 응용 프로그램의 성능 요구에 맞게 데이터베이스의 개별 컨테이너를 확장 합니다. 분할에서 컨테이너의 항목은 *논리적 파티션*이라는 별개의 하위 집합으로 나뉩니다. 논리적 파티션은 컨테이너의 각 항목과 연결 된 *파티션 키* 의 값에 따라 형성 됩니다. 논리적 파티션의 모든 항목에는 동일한 파티션 키 값이 있습니다.

예를 들어 컨테이너는 항목을 포함 합니다. 각 항목에는 `UserID` 속성에 대한 고유한 값이 있습니다. `UserID` 컨테이너의 항목에 대한 파티션 키로 사용 되 고 1000 고유 `UserID` 값이 있는 경우 해당 컨테이너에 대해 1000 논리 파티션이 만들어집니다.

항목의 논리적 파티션을 결정 하는 파티션 키 외에도 컨테이너의 각 항목에는 *항목 ID* (논리 파티션 내에서 고유)가 있습니다. 파티션 키와 항목 ID를 결합 하면 항목을 고유 하 게 식별 하는 항목의 *인덱스가*생성 됩니다.

[파티션 키를 선택](partitioning-overview.md#choose-partitionkey) 하는 것은 응용 프로그램의 성능에 영향을 주는 중요 한 결정입니다.

## <a name="managing-logical-partitions"></a>논리 파티션 관리

Azure Cosmos DB는 컨테이너의 확장성 및 성능 요구를 효율적으로 충족 하기 위해 물리적 파티션에서 논리적 파티션 배치를 투명 하 고 자동으로 관리 합니다. 응용 프로그램의 처리량 및 저장소 요구 사항이 증가 하면 Azure Cosmos DB 논리 파티션이 이동 하 여 더 많은 서버에 부하를 자동으로 분산 합니다. 

Azure Cosmos DB 해시 기반 분할을 사용 하 여 실제 파티션에 논리적 파티션을 분산 합니다. Azure Cosmos DB는 항목의 파티션 키 값을 해시 합니다. 해시 된 결과는 실제 파티션을 결정 합니다. 그런 다음 Azure Cosmos DB는 실제 파티션에서 파티션 키 해시의 키 공간을 균등 하 게 할당 합니다.

단일 논리 파티션 내에서 데이터에 액세스 하는 쿼리는 여러 파티션에 액세스 하는 쿼리보다 비용 효율적입니다. 트랜잭션 (저장 프로시저 또는 트리거)은 단일 논리적 파티션의 항목에 대해서만 허용 됩니다.

Azure Cosmos DB 파티션을 관리 하는 방법에 대한 자세한 내용은 [논리 파티션](partition-data.md)을 참조 하세요. 응용 프로그램을 빌드하거나 실행 하기 위한 내부 세부 정보를 이해 하는 데 필요 하지는 않지만 여기에서 자세한 정보를 확인할 수 있습니다.

## <a id="choose-partitionkey"></a>파티션 키 선택

다음은 파티션 키를 선택 하는 데 유용한 지침입니다.

* 단일 논리 파티션은 10gb의 저장소로 제한 됩니다.  

* Azure Cosmos 컨테이너는 초당 최소 처리량 400 요청 단위 (r u/초)를 포함 합니다. 데이터베이스에서 처리량이 프로 비전 되 면 컨테이너 당 최소 RUs는 100 초당 요청 단위입니다. 동일한 파티션 키에 대한 요청은 파티션에 할당 된 처리량을 초과할 수 없습니다. 요청이 할당 된 처리량을 초과 하는 경우 요청은 속도 제한입니다. 따라서 애플리케이션 내에서 "핫 스폿"을 초래하지 않는 파티션 키를 선택해야 합니다.

* 값 범위가 방대하고 논리 파티션 간에 액세스 패턴이 균등하게 분산되는 파티션 키를 선택해야 합니다. 이렇게 하면 논리적 파티션 집합 전체에 컨테이너의 데이터와 활동을 분산 하 여 데이터 저장 및 처리량에 대한 리소스를 논리 파티션에 분산할 수 있습니다.

* 모든 파티션에서 작업 부하를 균등 하 게 분산 하는 파티션 키를 시간에 따라 고르게 분산 하는 파티션 키를 선택 합니다. 파티션 키를 선택 하는 경우 확장성을 달성 하기 위해 여러 파티션에 항목을 분산 하는 목표에 대한 효율적인 파티션 쿼리 및 트랜잭션 필요성의 균형을 유지 해야 합니다.

* 파티션 키 후보에는 쿼리에 필터로 자주 나타나는 속성이 포함 될 수 있습니다. 필터 조건자에 파티션 키를 포함하여 쿼리를 효율적으로 라우팅할 수 있습니다.

## <a name="next-steps"></a>다음 단계

* [Azure Cosmos DB의 분할 및 수평 확장](partition-data.md)에 대해 알아봅니다.
* [Azure Cosmos DB에서 프로비전된 처리량](request-units.md)에 대한 자세한 정보
* [Azure Cosmos DB에서 글로벌 배포](distribute-data-globally.md)에 대한 자세한 정보
