---
title: Azure IoT Central 앱의 디바이스 템플릿 버전 관리 이해 | Microsoft Docs
description: 새 버전을 만들어 라이브 연결된 디바이스에 영향을 주지 않고 디바이스 템플릿을 반복합니다.
author: dominicbetts
ms.author: dobett
ms.date: 11/06/2020
ms.topic: how-to
ms.service: iot-central
services: iot-central
ms.custom: device-developer
ms.openlocfilehash: 03d4b0e43c9f692b90f4ab5d4d136dac92b74de6
ms.sourcegitcommit: 3ed0f0b1b66a741399dc59df2285546c66d1df38
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/19/2021
ms.locfileid: "107715049"
---
# <a name="create-a-new-device-template-version"></a>새 디바이스 템플릿 버전 만들기

*이 문서는 솔루션 빌더 및 디바이스 개발자에게 적용됩니다.*

디바이스 템플릿에는 디바이스가 IoT Central과 상호 작용하는 방식을 설명하는 스키마가 포함되어 있습니다. 이러한 상호 작용에는 원격 분석, 속성 및 명령이 포함됩니다. 디바이스와 IoT Central 애플리케이션은 모두 이 스키마에 대한 공유된 이해에 의존하여 정보를 교환합니다. 계약을 위반하지 않고 스키마를 제한적으로만 변경할 수 있으므로 대부분의 스키마 변경에는 새 버전의 디바이스 템플릿이 필요합니다. 디바이스 템플릿의 버전을 지정하면 이전 디바이스가 이해하는 스키마 버전을 계속 사용할 수 있고 최신 또는 업데이트된 디바이스는 이후 스키마 버전을 사용할 수 있습니다.

디바이스 템플릿의 스키마는 디바이스 모델 및 해당 인터페이스에 정의됩니다. 디바이스 템플릿에는 클라우드 속성, 디스플레이 사용자 지정 및 보기와 같은 기타 정보가 포함됩니다. 디바이스가 IoT Central과 데이터를 교환하는 방법을 정의하지 않는 디바이스 템플릿의 해당 부분을 변경하는 경우 템플릿의 버전을 지정할 필요가 없습니다.

운영자가 사용할 수 있으려면 항상 업데이트된 디바이스 템플릿을 게시해야 합니다. IoT Central은 사용자가 먼저 템플릿의 버전을 지정하지 않으면 디바이스 템플릿에 대한 주요 변경 내용을 게시하는 것을 중지시킵니다.

> [!NOTE]
> 디바이스 템플릿을 만드는 방법에 대한 자세한 내용은 [디바이스 템플릿 설정 및 관리](howto-set-up-template.md)를 참조하세요.

## <a name="versioning-rules"></a>버전 지정 규칙

이 섹션에서는 디바이스 템플릿에 적용되는 버전 지정 규칙을 요약합니다. 디바이스 모델과 인터페이스에는 모두 버전 번호가 있습니다. 다음 조각에서는 온도 조절기 디바이스에 대한 디바이스 모델을 보여 줍니다. 디바이스 모델에는 단일 인터페이스가 있습니다. `@id` 필드 끝에 버전 번호가 표시됩니다.

```json
{
  "@context": "dtmi:dtdl:context;2",
  "@id": "dtmi:com:example:Thermostat;1",
  "@type": "Interface",
  "displayName": "Thermostat",
  "description": "Reports current temperature and provides desired temperature control.",
  "contents": [
    // ...
  ]
}
```

IoT Central UI에서 이 정보를 보려면 디바이스 템플릿 편집기에서 **ID 보기** 를 선택합니다.

:::image type="content" source="media/howto-version-device-template/view-identity.png" alt-text="인터페이스 ID를 보고 버전 번호 확인":::

다음 목록에서는 새 버전을 만들어야 하는 경우를 결정하는 규칙을 보여 줍니다.

* 디바이스 모델을 게시한 후에는 새 버전의 디바이스 템플릿에서도 인터페이스를 제거할 수 없습니다.
* 디바이스 모델을 게시한 후 새 버전의 디바이스 템플릿을 만들면 인터페이스를 추가할 수 있습니다.
* 디바이스 모델을 게시한 후 새 버전의 디바이스 템플릿을 만들면 인터페이스를 최신 버전으로 바꿀 수 있습니다. 예를 들어, 센서 v1 디바이스 템플릿에서 온도 조절기 v1 인터페이스를 사용하는 경우 온도 조절기 v2 인터페이스를 사용하는 센서 v2 디바이스 템플릿을 만들 수 있습니다.
* 인터페이스를 게시한 후에는 새 버전의 디바이스 템플릿에서도 인터페이스 콘텐츠를 제거할 수 없습니다.
* 인터페이스를 게시한 후 새 버전의 인터페이스 및 디바이스 템플릿을 만들면 인터페이스의 콘텐츠에 항목을 추가할 수 있습니다. 인터페이스에 추가할 수 있는 항목에는 원격 분석, 속성 및 명령이 포함됩니다.
* 인터페이스를 게시한 후 새 버전의 인터페이스 및 디바이스 템플릿을 만들면 인터페이스에서 기존 항목에 대한 비 스키마 변경을 수행할 수 있습니다. 인터페이스 항목의 비 스키마 부분은 표시 이름 및 의미 체계 유형을 포함합니다. 변경할 수 없는 인터페이스 항목의 스키마 부분은 이름, 기능 유형 및 스키마입니다.

다음 섹션에서는 IoT Central에서 디바이스 템플릿을 수정하는 몇 가지 예를 안내합니다.

## <a name="customize-the-device-template-without-versioning"></a>버전 지정 없이 디바이스 템플릿 사용자 지정

디바이스 템플릿 및 인터페이스의 버전을 지정하지 않고도 디바이스 기능의 특정 요소를 편집할 수 있습니다. 예를 들어 이러한 필드 중 일부에는 표시 이름, 의미 체계 유형, 최솟값, 최댓값, 소수점 이하 자릿수, 색, 단위, 표시 단위, 주석 및 설명이 포함됩니다. 다음 사용자 지정 중 하나를 추가하려면:

1. **디바이스 템플릿** 페이지로 이동합니다.
1. 사용자 지정하려는 디바이스 템플릿을 선택합니다.
1. **사용자 지정** 탭을 선택합니다.
1. 디바이스 모델에 정의된 모든 기능이 여기에 나열됩니다. 디바이스 템플릿의 버전을 지정하지 않고도 이러한 필드를 모두 편집, 저장 및 사용할 수 있습니다. 편집하려는 필드가 읽기 전용이면 디바이스 템플릿 버전을 지정하여 변경해야 합니다. 편집할 필드를 선택하고 새 값을 입력합니다.
1. **저장** 을 선택합니다. 이제 이러한 값은 디바이스 템플릿에 처음 저장되었으며 애플리케이션 전체에서 사용되는 모든 항목을 재정의합니다.

## <a name="version-a-device-template"></a>디바이스 템플릿 버전 지정

디바이스 템플릿의 새 버전을 만들면 디바이스 모델을 편집할 수 있는 템플릿의 초안 버전을 만듭니다. 게시된 모든 인터페이스는 개별 버전이 지정될 때까지 게시된 상태로 유지됩니다. 게시된 인터페이스를 수정하려면 먼저 새 디바이스 템플릿 버전을 만듭니다.

사용자 지정 섹션에서 편집할 수 없는 디바이스 모델의 일부를 편집하려는 경우에만 디바이스 템플릿의 버전을 지정합니다.

디바이스 템플릿의 버전을 지정하려면:

1. **디바이스 템플릿** 페이지로 이동합니다.
1. 버전을 지정하려고 하는 디바이스 템플릿을 선택합니다.
1. 페이지 맨 위에 있는 **버전** 단추를 선택하고 템플릿에 새 이름을 지정합니다. IoT Central은 편집할 수 있는 새 이름을 제안합니다.
1. **만들기** 를 선택합니다.
1. 이제 디바이스 템플릿이 초안 모드입니다. 인터페이스가 여전히 잠겨 있는 것을 볼 수 있습니다. 수정하려는 모든 인터페이스 버전을 지정합니다.

## <a name="version-an-interface"></a>인터페이스 버전 지정

인터페이스 버전 지정을 사용하면 이미 만든 인터페이스 내에서 기능을 추가하고 업데이트할 수 있습니다.

인터페이스 버전을 지정하려면:

1. **디바이스 템플릿** 페이지로 이동합니다.
1. 초안 모드의 디바이스 템플릿을 선택합니다.
1. 버전을 지정하고 편집하려는 게시된 모드의 인터페이스를 선택합니다.
1. 인터페이스 페이지 상단에서 **버전** 단추를 선택합니다.
1. **만들기** 를 선택합니다.
1. 이제 인터페이스가 초안 모드입니다. 기존 사용자 지정 및 보기를 중단하지 않고 인터페이스에 기능을 추가하거나 편집할 수 있습니다.

## <a name="migrate-a-device-across-versions"></a>여러 버전에서 디바이스 마이그레이션

여러 버전의 디바이스 템플릿을 만들 수 있습니다. 시간이 지나면 이러한 디바이스 템플릿을 사용하는 연결된 디바이스가 여러 개 생깁니다. 한 버전의 디바이스 템플릿에서 다른 버전으로 디바이스를 마이그레이션할 수 있습니다. 다음 단계는 디바이스를 마이그레이션하는 방법을 설명합니다.

1. **장치** 페이지로 이동합니다.
1. 다른 버전으로 마이그레이션할 디바이스를 선택합니다.
1. **마이그레이션** 선택: :::image type="content" source="media/howto-version-device-template/migrate-device.png" alt-text="디바이스 마이그레이션 시작 옵션 선택":::
1. 디바이스를 마이그레이션할 버전 번호가 있는 디바이스 템플릿을 선택하고 **마이그레이션** 을 선택합니다.

## <a name="next-steps"></a>다음 단계

운영자 또는 솔루션 작성자인 경우 다음 단계로 [디바이스 관리 방법](./howto-manage-devices.md)에 대해 알아보세요.

디바이스 개발자인 경우 다음 단계로 [Azure IoT Edge 디바이스 및 Azure IoT Central](./concepts-iot-edge.md)에 대해 알아보세요.
