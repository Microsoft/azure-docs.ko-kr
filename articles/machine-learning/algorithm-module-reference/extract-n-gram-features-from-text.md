---
title: 텍스트 모듈 참조에서 N-문법 기능 추출
titleSuffix: Azure Machine Learning
description: Azure Machine Learning에서 추출 N-영문법 모듈을 사용 하 여 피쳐화 텍스트 데이터를 사용 하는 방법에 대해 알아봅니다.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 09/01/2019
ms.openlocfilehash: cae128505c61e7c640819041c6ffdae10a4947e7
ms.sourcegitcommit: 812bc3c318f513cefc5b767de8754a6da888befc
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 02/12/2020
ms.locfileid: "77152281"
---
# <a name="extract-n-gram-features-from-text-module-reference"></a>텍스트 모듈 참조에서 N-문법 기능 추출

이 문서에서는 Azure Machine Learning designer (미리 보기)의 모듈을 설명 합니다. 텍스트 모듈의 N-문법 기능 추출에서 *피쳐화* 구조화 되지 않은 텍스트 데이터를 사용 합니다. 

## <a name="configuration-of-the-extract-n-gram-features-from-text-module"></a>텍스트 모듈에서 추출 N-영문법 기능 구성

이 모듈은 n-영문법 사전을 사용 하는 다음과 같은 시나리오를 지원 합니다.

* 자유 텍스트 열에서 [새로운 n-영문법 사전을 만듭니다](#create-a-new-n-gram-dictionary) .

* [기존 텍스트 기능 집합을 사용](#use-an-existing-n-gram-dictionary) 하 여 자유 텍스트 열을 피쳐화.

* N 그램을 사용 하는 [모델의 점수를 매기 나 게시](#score-or-publish-a-model-that-uses-n-grams) 합니다.

### <a name="create-a-new-n-gram-dictionary"></a>새 n-영문법 사전 만들기

1.  텍스트 모듈의 추출 N-문법 기능을 파이프라인에 추가 하 고 처리 하려는 텍스트가 포함 된 데이터 집합을 연결 합니다.

1.  **텍스트 열** 을 사용 하 여 추출할 텍스트가 포함 된 문자열 형식의 열을 선택 합니다. 결과는 자세한 정보를 표시 하기 때문에 한 번에 하나의 열만 처리할 수 있습니다.

1. N-문법 기능의 새 목록을 만드는 중임을 나타내기 위해 **어휘 모드** 를 **Create** 로 설정 합니다. 

1. **N-그램 크기** 를 설정 하 여 추출 하 고 저장할 n 그램의 *최대* 크기를 지정 합니다. 

    예를 들어 3을 입력 하는 경우에는 3, 4, bigrams 및 trigrams을 만듭니다.

1. **가중치 함수** 는 문서 기능 벡터를 빌드하는 방법 및 문서에서 어휘를 추출 하는 방법을 지정 합니다.

    * **이진 가중치**: 추출 된 n 그램에 이진 상태 값을 할당 합니다. 각 n-영문법의 값은 문서에 있는 경우 1이 고 그렇지 않으면 0입니다.

    * **Tf Weight**: 추출 된 n 그램에 용어 빈도 (TF) 점수를 할당 합니다. 각 n-영문법의 값은 문서에서 발생 하는 빈도입니다.

    * **Idf 가중치**: 추출 된 n 그램에 역행렬 (역 문서 빈도) 점수를 할당 합니다. 각 n-영문법의 값은 전체 모음의 발생 빈도에 따라 나눈 모음 크기의 로그입니다.
    
      `IDF = log of corpus_size / document_frequency`
 
    *  **Tf-Idf 가중치**: 추출 된 n 그램에 용어 빈도/역 문서 빈도 (TF/IDF) 점수를 할당 합니다. 각 n-영문법의 값은 해당 TF 점수를 IDF 점수에 곱한 값입니다.

1. **최소 단어 길이** 를 n-문법의 *단일 단어* 에서 사용할 수 있는 최소 문자 수로 설정 합니다.

1. **최대 단어 길이** 를 사용 하 여 n-문법의 *단일 단어* 에 사용할 수 있는 최대 문자 수를 설정할 수 있습니다.

    기본적으로 단어 또는 토큰 당 최대 25 자까지 허용 됩니다.

1. **최소 n-영문법 문서 절대 빈도** 를 사용 하 여 n-영문법 사전을 포함 하는 데 필요한 최소 발생 횟수를 설정 합니다. 

    예를 들어 기본값 5를 사용 하는 경우 n-영문법은 모음에 5 번 이상 표시 되어야 n-영문법 사전에 포함 됩니다. 

1.  **최대 n-영문법 문서 비율** 을 전체 모음의 행 수를 포함 하 여 특정 n-개를 포함 하는 행 수의 최대 비율로 설정 합니다.

    예를 들어 비율 1은 특정 n-영문법이 모든 행에 있는 경우에도 n-영문법을 n-영문법 사전에 추가할 수 있음을 나타냅니다. 일반적으로 모든 행에서 발생 하는 단어는 의미 없는 단어로 간주 되 고 제거 됩니다. 도메인 종속 의미 없는 단어를 필터링 하려면이 비율을 줄여 보세요.

    > [!IMPORTANT]
    > 특정 단어의 발생 률은 균일 하지 않습니다. 문서 마다 다릅니다. 예를 들어 특정 제품에 대 한 고객 의견을 분석 하는 경우 제품 이름은 매우 높은 빈도가 되 고 의미 없는 단어에 근접 하 고 다른 컨텍스트에서는 중요 한 용어가 될 수 있습니다.

1. **N-영문법 기능 벡터 정규화** 옵션을 선택 하 여 기능 벡터를 표준화 합니다. 이 옵션을 사용 하는 경우 각 n-영문법 기능 벡터를 L2로 나눕니다.

1. 파이프라인을 실행합니다.

### <a name="use-an-existing-n-gram-dictionary"></a>기존 n-영문법 사전 사용

1.  텍스트 모듈의 추출 N-문법 기능을 파이프라인에 추가 하 고 처리 하려는 텍스트가 포함 된 데이터 집합을 **데이터 집합** 포트에 연결 합니다.

1.  **텍스트 열** 을 사용 하 여 피쳐화 할 텍스트가 포함 된 텍스트 열을 선택 합니다. 기본적으로 모듈은 **문자열**형식의 모든 열을 선택 합니다. 최상의 결과를 위해 한 번에 하나의 열을 처리 합니다.

1. 이전에 생성 된 n-영문법 사전을 포함 하는 저장 된 데이터 집합을 추가 하 고 **입력 어휘** 포트에 연결 합니다. 텍스트 모듈에서 Extract N-문법 기능의 업스트림 인스턴스의 **결과 어휘** 출력을 연결할 수도 있습니다.

1. **어휘 모드**의 경우 드롭다운 목록에서 **ReadOnly** 업데이트 옵션을 선택 합니다.

   **ReadOnly** 옵션은 입력 어휘에 대 한 입력 모음 나타냅니다. 새 텍스트 데이터 집합 (왼쪽 입력)에서 용어 빈도를 계산 하는 대신 입력 어휘의 n-영문법 가중치가 그대로 적용 됩니다.

   > [!TIP]
   > 텍스트 분류자의 점수를 매길 때이 옵션을 사용 합니다.

1.  다른 모든 옵션은 [이전 섹션](#create-a-new-n-gram-dictionary)의 속성 설명을 참조 하세요.

1.  파이프라인을 실행합니다.

### <a name="score-or-publish-a-model-that-uses-n-grams"></a>N 그램을 사용 하는 모델 점수 매기기 또는 게시

1.  텍스트 모듈의 **추출 N-문법 기능** 을 학습 데이터 흐름에서 점수 흐름 데이터 흐름에 복사 합니다.

1.  학습 데이터 흐름의 **결과 어휘** 출력을 점수 흐름 데이터 흐름에 대 한 **입력 어휘** 에 연결 합니다.

1.  점수 매기기 워크플로에서 텍스트 모듈에서 N-영문법 기능 추출을 수정 하 고 **어휘 모드** 매개 변수를 **ReadOnly**로 설정 합니다. 다른 모든 것은 동일 하 게 유지 합니다.

1.  파이프라인을 게시 하려면 **결과 어휘** 를 데이터 집합으로 저장 합니다.

1.  점수 매기기 그래프에서 저장 된 데이터 집합을 텍스트 모듈의 추출 N-영문법 기능에 연결 합니다.

## <a name="results"></a>결과

텍스트 모듈에서 N-문법 기능 추출은 두 가지 유형의 출력을 만듭니다. 

* **결과 데이터 집합**:이 출력은 추출 된 n-그램과 결합 된 분석 된 텍스트의 요약입니다. **텍스트 열** 옵션에서 선택 하지 않은 열은 출력으로 전달 됩니다. 분석 하는 텍스트의 각 열에 대해 모듈은 다음 열을 생성 합니다.

  * **N-영문법 발생 행렬**: 모듈은 total 모음에서 찾은 각 n-영문법에 대해 열을 생성 하 고 각 열에 점수를 추가 하 여 해당 행에 대 한 n-영문법의 가중치를 표시 합니다. 

* **결과 어휘**: 어휘에는 분석의 일부로 생성 되는 용어 빈도 점수와 함께 실제 n-영문법 사전이 포함 되어 있습니다. 다른 입력 집합이 나 나중에 업데이트를 위해 다시 사용할 수 있도록 데이터 집합을 저장할 수 있습니다. 모델링 및 점수 매기기를 위해 어휘를 다시 사용할 수도 있습니다.

### <a name="result-vocabulary"></a>결과 어휘

어휘에는 분석의 일부로 생성 된 용어 빈도 점수를 포함 하는 n-영문법 사전이 포함 되어 있습니다. DF 및 IDF 점수는 다른 옵션에 관계 없이 생성 됩니다.

+ **ID**: 각각의 고유 n-문법에 대해 생성 되는 식별자입니다.
+ **Ngram**: n-영문법입니다. 공백이 나 다른 단어 구분 기호는 밑줄 문자로 바뀝니다.
+ **DF**: 원래 모음의 n-문법에 대 한 용어 빈도 점수입니다.
+ **IDF**: 원래 모음의 n-문법에 대 한 역 문서 빈도 점수입니다.

이 데이터 집합을 수동으로 업데이트할 수 있지만 오류가 발생할 수 있습니다. 예를 들면 다음과 같습니다.

* 모듈이 입력 어휘에서 동일한 키를 가진 중복 행을 찾은 경우 오류가 발생 합니다. 어휘의 두 행이 같은 단어를 포함 하지 않도록 합니다.
* 어휘 데이터 집합의 입력 스키마는 열 이름과 열 유형을 포함 하 여 정확 하 게 일치 해야 합니다. 
* **ID** 열 및 **DF** 열은 정수 형식 이어야 합니다. 
* **IDF** 열은 float 형식 이어야 합니다.

> [!Note]
> 데이터 출력을 모델 학습 모듈에 직접 연결 하지 않습니다. 학습 모델에 공급 하기 전에 자유 텍스트 열을 제거 해야 합니다. 그렇지 않으면 사용 가능한 텍스트 열이 범주 기능으로 처리 됩니다.

## <a name="next-steps"></a>다음 단계

Azure Machine Learning [사용할 수 있는 모듈 집합](module-reference.md) 을 참조 하세요.
