---
title: 'K-클러스터링: 모듈 참조'
titleSuffix: Azure Machine Learning
description: Azure Machine Learning에서 K-의미 클러스터링 모듈을 사용 하 여 클러스터링 모델을 학습 하는 방법에 대해 알아봅니다.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 11/19/2019
ms.openlocfilehash: 6e2fa96584570e5837c4367c8be4701b7398fb0f
ms.sourcegitcommit: 812bc3c318f513cefc5b767de8754a6da888befc
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 02/12/2020
ms.locfileid: "77152213"
---
# <a name="module-k-means-clustering"></a>모듈: K-클러스터링을 의미 합니다.

이 문서에서는 Azure Machine Learning designer (미리 보기)에서 *k-의미 클러스터링* 모듈을 사용 하 여 학습 되지 않은 k 의미 클러스터링 모델을 만드는 방법을 설명 합니다. 
 
K-가장 간단 하 고 알려진 *자율* 학습 알고리즘 중 하나입니다. 다음과 같은 다양 한 기계 학습 작업에 알고리즘을 사용할 수 있습니다. 

* [비정상 데이터 검색](https://msdn.microsoft.com/magazine/jj891054.aspx)
* 텍스트 문서 클러스터링.
* 다른 분류 또는 회귀 방법을 사용 하기 전에 데이터 집합 분석 

클러스터링 모델을 만들려면 다음을 수행 합니다.

* 이 모듈을 파이프라인에 추가 합니다.
* 데이터 집합을 연결 합니다.
* 매개 변수를 설정 합니다 (예: 원하는 클러스터 수, 클러스터를 만드는 데 사용할 거리 메트릭 등). 
  
모듈 하이퍼 매개 변수를 구성한 후 학습 된 모델을 [클러스터링 학습 모델](train-clustering-model.md)에 연결 합니다. K-알고리즘은 자율 learning 메서드 이므로 레이블 열은 선택 사항입니다. 

+ 데이터에 레이블이 포함 되어 있으면 레이블 값을 사용 하 여 클러스터를 선택 하 고 모델을 최적화할 수 있습니다. 

+ 데이터에 레이블이 없는 경우 알고리즘은 데이터에만 기반 하 여 가능한 범주를 나타내는 클러스터를 만듭니다.  

##  <a name="understand-k-means-clustering"></a>K 이해-클러스터링 의미
 
일반적으로 클러스터링은 반복 기법을 사용 하 여 데이터 집합의 사례를 유사한 특성을 가진 클러스터로 그룹화 합니다. 이러한 그룹화는 데이터를 탐색 하 고, 데이터의 비정상 상태를 식별 하 고, 궁극적으로 예측을 수행 하는 데 유용 합니다. 클러스터링 모델을 통해 검색 또는 간단한 관찰으로 인해 논리적으로 파생 되지 않는 데이터 집합의 관계를 식별할 수도 있습니다. 이러한 이유로 클러스터링은 종종 기계 학습 작업의 초기 단계에서 데이터를 탐색 하 고 예기치 않은 상관 관계를 검색 하는 데 사용 됩니다.  
  
 K-수단 메서드를 사용 하 여 클러스터링 모델을 구성 하는 경우 모델에 원하는 *중심* 수를 나타내는 대상 숫자 *K* 를 지정 해야 합니다. 중심는 각 클러스터를 대표 하는 지점입니다. K는 클러스터 내 제곱합을 최소화 하 여 들어오는 각 데이터 요소를 클러스터 중 하나에 할당 합니다. 
 
학습 데이터를 처리할 때 K는 임의로 선택 된 중심의 초기 집합으로 시작 합니다. 중심는 클러스터의 시작 지점으로 사용 되며 로이드의 알고리즘을 적용 하 여 해당 위치를 반복적으로 구체화 합니다. K는 다음 조건 중 하나 이상을 충족 하는 경우에서 클러스터의 빌드 및 구체화를 중지 합니다.  
  
-   중심 안정화 됩니다. 즉, 개별 점에 대 한 클러스터 할당은 더 이상 변경 되지 않으며 알고리즘은 솔루션에서 수렴 됩니다.  
  
-   알고리즘에서 지정된 수의 반복 실행을 완료했습니다.  
  
 학습 단계를 완료 한 후에는 [데이터를 클러스터에 할당](assign-data-to-clusters.md) 모듈을 사용 하 여 K 수단 알고리즘을 사용 하 여 찾은 클러스터 중 하나에 새 사례를 할당 합니다. 새 사례와 각 클러스터의 중심 간 거리를 계산 하 여 클러스터 할당을 수행 합니다. 각각의 새 사례는 가장 가까운 중심로 클러스터에 할당 됩니다.  

## <a name="configure-the-k-means-clustering-module"></a>K 의미의 클러스터링 모듈 구성
  
1.  **K-를 사용** 하 여 클러스터링 모듈을 파이프라인에 추가 합니다.  
  
2.  모델을 학습 하는 방법을 지정 하려면 **강사 모드 만들기** 옵션을 선택 합니다.  
  
    -   **단일 매개 변수**: 클러스터링 모델에서 사용 하려는 정확한 매개 변수를 알고 있는 경우 특정 값 집합을 인수로 제공할 수 있습니다.  
  
3.  **중심 수**에 대해 알고리즘을 시작 하려는 클러스터의 수를 입력 합니다.  
  
     모델은 정확 하 게이 수의 클러스터를 생성 하는 것이 보장 되지 않습니다. 알고리즘은이 데이터 요소 수로 시작 하 고 최적의 구성을 찾기 위해 반복 됩니다.  
  
4.  속성 **초기화** 는 초기 클러스터 구성을 정의 하는 데 사용 되는 알고리즘을 지정 하는 데 사용 됩니다.  
  
    -   **처음 N**: 일부 초기 데이터 요소 수가 데이터 집합에서 선택 되 고 초기 수단으로 사용 됩니다. 
    
         이 메서드를 *Forgy 메서드*라고도 합니다.  
  
    -   **Random**: 알고리즘은 임의로 클러스터에 데이터 요소를 배치 하 고 클러스터의 임의로 할당 된 지점에 대 한 중심 초기 평균을 계산 합니다. 

         이 메서드를 *임의 파티션* 메서드 라고도 합니다.  
  
    -   **K-+ +** : 클러스터를 초기화 하는 기본 방법입니다.  
  
         Arthur 및 Sergei Vassilvitskii에서 2007에 의해에 제안 된 **+ +** 알고리즘은 표준 k를 사용 하는 알고리즘에의 한 클러스터링을 방지 합니다. **K-** 초기 클러스터 센터를 선택 하는 다른 방법을 사용 하 여 표준 K에 대 한 향상 된 기능을 의미 합니다.  
  
    
5.  **난수 초기값**의 경우 필요에 따라 클러스터 초기화의 초기값으로 사용할 값을 입력 합니다. 이 값은 클러스터 선택에 상당한 영향을 미칠 수 있습니다.  
  
6.  **메트릭에**대해 클러스터 벡터 간 거리를 측정 하는 데 사용할 함수를 선택 하거나 새 데이터 요소와 임의로 선택한 중심 사이에 사용할 함수를 선택 합니다. Azure Machine Learning는 다음과 같은 클러스터 거리 메트릭을 지원 합니다.  
  
    -   **유클리드**: 유클리드 distance는 클러스터링을 의미 하는 클러스터링에 대 한 클러스터 분산 측정으로 일반적으로 사용 됩니다. 이 메트릭은 지점과 중심 사이의 평균 거리를 최소화하므로 사용하는 것이 좋습니다.
  
7.  **반복**의 경우 중심 선택 항목을 마무리 하기 전에 알고리즘이 학습 데이터를 반복 해야 하는 횟수를 입력 합니다.  
  
     이 매개 변수를 조정 하 여 학습 시간에 대 한 정확도를 균형 있게 조정할 수 있습니다.  
  
8.  **레이블 할당 모드**의 경우 레이블 열 (데이터 집합에 있는 경우)을 처리 해야 하는 방법을 지정 하는 옵션을 선택 합니다.  
  
     K-클러스터링은 자율 machine learning 메서드 이므로 레이블은 선택 사항입니다. 그러나 데이터 집합에 이미 레이블 열이 있는 경우 해당 값을 사용 하 여 클러스터 선택을 안내 하거나 값을 무시 하도록 지정할 수 있습니다.  
  
    -   **레이블 열 무시**: 레이블 열의 값은 무시 되 고 모델을 작성 하는 데 사용 되지 않습니다.
  
    -   **누락 값 채우기**: 레이블 열 값은 클러스터를 작성 하는 데 도움이 되는 기능으로 사용 됩니다. 행에 레이블이 없는 경우 값은 다른 기능을 사용 하 여 귀속 됩니다.  
  
    -   **가장 가까운 위치에서 가운데 맞춤**: 레이블 열 값은 현재 중심 가장 가까운 지점의 레이블을 사용 하 여 예측 된 레이블 값으로 대체 됩니다.  

8.  학습 전에 기능을 정규화 하려면 **기능 정규화** 옵션을 선택 합니다.
  
     학습 전에 정규화를 적용 하는 경우 데이터 요소는 MinMaxNormalizer에 의해 `[0,1]`으로 정규화 됩니다.

10. 모델을 학습시킵니다.  
  
    -   담당자 **모드 만들기** 를 **단일 매개 변수로**설정한 경우에는 태그가 지정 된 데이터 집합을 추가 하 고 [클러스터링 모델 학습](train-clustering-model.md) 모듈을 사용 하 여 모델을 학습 합니다.  
  
### <a name="results"></a>결과

모델을 구성 하 고 학습 한 후 점수를 생성 하는 데 사용할 수 있는 모델을 사용할 수 있습니다. 그러나 여러 가지 방법으로 모델을 학습 하 고 여러 가지 방법으로 결과를 보고 사용할 수 있습니다. 

#### <a name="capture-a-snapshot-of-the-model-in-your-workspace"></a>작업 영역에서 모델의 스냅숏 캡처

[클러스터링 모델 학습](train-clustering-model.md) 모듈을 사용한 경우:

1. **클러스터링 모델 학습** 모듈을 선택 하 고 오른쪽 패널을 엽니다.

2. **출력** 탭을 선택 합니다. **데이터 집합 등록** 아이콘을 선택 하 여 학습 된 모델의 복사본을 저장 합니다.

저장 된 모델은 모델을 저장할 때의 학습 데이터를 나타냅니다. 나중에 파이프라인에서 사용 되는 학습 데이터를 업데이트 하는 경우 저장 된 모델은 업데이트 되지 않습니다. 

#### <a name="see-the-clustering-result-dataset"></a>클러스터링 결과 데이터 집합을 참조 하세요. 

[클러스터링 모델 학습](train-clustering-model.md) 모듈을 사용한 경우:

1. **클러스터링 모델 학습** 모듈을 마우스 오른쪽 단추로 클릭 합니다.

2. **시각화**를 선택 합니다.

### <a name="tips-for-generating-the-best-clustering-model"></a>최상의 클러스터링 모델을 생성 하기 위한 팁  

클러스터링 중에 사용 되는 *시드* 프로세스가 모델에 크게 영향을 줄 수 있다는 것을 알 수 있습니다. 시드는 지점의 초기 배치가 잠재적 중심을 의미 합니다.
 
예를 들어 데이터 집합에 많은 이상 값이 포함 되 고 클러스터 시드를 위해 이상 값이 선택 되지 않은 경우 다른 데이터 요소가 해당 클러스터에 적합 하지 않으며 클러스터가 singleton 일 수 있습니다. 즉, 점이 하나만 있을 수 있습니다.  
  
다음 두 가지 방법으로이 문제를 방지할 수 있습니다.  
  
-   중심 수를 변경 하 고 여러 초기값을 시도 합니다.  
  
-   여러 모델을 만들거나, 메트릭을 변경 하거나, 더 많은 반복 합니다.  
  
일반적으로 클러스터링 모델을 사용 하면 지정 된 구성으로 인해 로컬로 최적화 된 클러스터 집합이 생성 될 수 있습니다. 즉, 모델에 의해 반환 되는 클러스터 집합은 현재 데이터 요소에만 해당 하 고 다른 데이터에는 일반화할 수 없습니다. 다른 초기 구성을 사용 하는 경우에는 K 의미의 방법이 서로 다른 상위 구성을 찾을 수 있습니다. 
