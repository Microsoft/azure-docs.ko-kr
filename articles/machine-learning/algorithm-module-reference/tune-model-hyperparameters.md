---
title: 모델 하이퍼 매개 변수 튜닝
titleSuffix: Azure Machine Learning
description: Azure Machine Learning의 모델 하이퍼 매개 변수 조정 모듈을 사용 하 여 모델에 대 한 매개 변수 스윕을 수행 하 여 최적의 매개 변수 설정을 결정 하는 방법에 대해 알아봅니다.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 06/17/2020
ms.openlocfilehash: 916d23670e1db22efe43e2966d96aa1c82f1852a
ms.sourcegitcommit: 9c3cfbe2bee467d0e6966c2bfdeddbe039cad029
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/24/2020
ms.locfileid: "88782161"
---
# <a name="tune-model-hyperparameters"></a>모델 하이퍼 매개 변수 튜닝

이 문서에서는 Azure Machine Learning designer (미리 보기)에서 모델 하이퍼 매개 변수 조정 모듈을 사용 하는 방법을 설명 합니다. 목표는 machine learning 모델에 대 한 최적의 하이퍼 매개 변수를 결정 하는 것입니다. 모듈은 다양 한 설정 조합을 사용 하 여 여러 모델을 작성 하 고 테스트 합니다. 모든 모델에 대 한 메트릭을 비교 하 여 설정의 조합을 가져옵니다. 

용어 *매개 변수* 및 하이퍼 *매개 변수* 는 혼동 될 수 있습니다. 모델의 매개 변수는 모듈의 오른쪽 창에서 설정 하는 *매개 변수* 입니다. 기본적으로이 모듈은 지정 된 매개 변수 설정에 대 한 *매개 변수 비우기* 를 수행 합니다. 각 특정 의사 결정 트리, 데이터 집합 또는 회귀 방법 마다 다를 수 있는 최적의 하이퍼 _매개 변수_집합을 학습 합니다. 최적 구성을 찾는 프로세스를 *튜닝*이 라고도 합니다. 

모듈은 모델에 대 한 최적의 설정 ( *통합 학습 및 튜닝* )을 찾기 위해 다음 방법을 지원 합니다. 이 메서드에서는 사용할 매개 변수 집합을 구성 합니다. 그런 다음 모듈이 여러 조합을 반복 하도록 합니다. 모듈은 "최상" 모델을 찾을 때까지 정확도를 측정 합니다. 대부분의 학습자 모듈을 사용 하 여 학습 프로세스 중에 변경 해야 하는 매개 변수 및 수정 된 상태를 유지 해야 하는 매개 변수를 선택할 수 있습니다.

튜닝 프로세스를 실행 하는 데 걸리는 시간에 따라 모든 조합을 철저히 테스트 하도록 결정할 수 있습니다. 또는 매개 변수 조합의 표를 설정 하 고 매개 변수 표의 임의 하위 집합을 테스트 하 여 프로세스를 단축할 수 있습니다.

이 메서드는 다시 사용 하기 위해 저장할 수 있는 학습 된 모델을 생성 합니다.  

> [!TIP] 
> 관련 작업을 수행할 수 있습니다. 튜닝을 시작 하기 전에 기능 선택을 적용 하 여 가장 높은 정보 값을 가진 열 또는 변수를 확인 합니다.

## <a name="how-to-configure-tune-model-hyperparameters"></a>모델 조정 Hyperparameters를 구성 하는 방법  

기계 학습 모델에 대 한 최적의 하이퍼 매개 변수를 학습 하려면 파이프라인을 많이 사용 해야 합니다.

### <a name="train-a-model-by-using-a-parameter-sweep"></a>매개 변수 비우기를 사용 하 여 모델 학습  

이 섹션에서는 Model Hyperparameters 조정 모듈을 사용 하 여 모델을 학습 하는 기본 매개 변수 스윕를 수행 하는 방법을 설명 합니다.

1.  디자이너에서 모델 하이퍼 매개 변수 조정 모듈을 파이프라인에 추가 합니다.

2.  학습 되지 않은 모델을 가장 왼쪽 입력에 연결 합니다. 

    > [!NOTE] 
    > **튜닝 모델 하이퍼 매개 변수** 는 기본 제공 기계 학습 알고리즘 모듈에만 연결할 수 있으며, 만든 사용자 지정 모델은 **Python 모델 만들기**를 지원 하지 않습니다.


3.  학습에 사용할 데이터 집합을 추가 하 고이를 모델의 하이퍼 매개 변수 조정의 중간 입력에 연결 합니다.  

    필요에 따라 태그가 지정 된 데이터 집합이 있는 경우 가장 오른쪽 입력 포트 (**선택 유효성 검사 데이터 집합**)에 연결할 수 있습니다. 이렇게 하면 학습 및 튜닝 하는 동안 정확도를 측정할 수 있습니다.

4.  모델 조정 Hyperparameters의 오른쪽 패널에서 **매개 변수 스윕 모드**의 값을 선택 합니다. 이 옵션은 매개 변수를 선택 하는 방법을 제어 합니다.

    - **전체 그리드**:이 옵션을 선택 하면 모듈은 시스템에서 미리 정의 된 그리드를 반복 하 여 다른 조합을 시도 하 고 가장 적합 한 학습자를 식별 합니다. 이 옵션은 가장 적합 한 매개 변수 설정이 무엇 인지 알 수 없고 값의 가능한 모든 조합을 사용해 볼 수 있는 경우에 유용 합니다.

    - **임의 스윕**:이 옵션을 선택 하면 모듈에서 시스템 정의 범위에 대 한 매개 변수 값을 임의로 선택 합니다. 모듈을 실행 하려는 최대 실행 수를 지정 해야 합니다. 이 옵션은 선택한 메트릭을 사용 하 여 모델 성능을 향상 시키고 컴퓨팅 리소스를 계속 절약 하려는 경우에 유용 합니다.    

5.  **레이블 열**에 대해 열 선택기를 열어 단일 레이블 열을 선택 합니다.

6.  실행 수를 선택 합니다.

    - **임의 스윕에서 최대 실행 수**: 임의 스윕을 선택 하는 경우 매개 변수 값의 임의 조합을 사용 하 여 모델을 학습 해야 하는 횟수를 지정할 수 있습니다.

7.  **순위**에 대해 모델 순위를 지정 하는 데 사용할 단일 메트릭을 선택 합니다.

    매개 변수 비우기를 실행 하는 경우 모듈은 모델 유형에 대해 적용 가능한 모든 메트릭을 계산 하 고 **스윕 결과** 보고서에서 반환 합니다. 모듈은 회귀 및 분류 모델에 대해 별도의 메트릭을 사용 합니다.

    그러나 선택 하는 메트릭은 모델의 순위를 지정 하는 방법을 결정 합니다. 선택한 메트릭에 따라 순위가 매겨진 최상위 모델만 점수 매기기에 사용할 학습 된 모델로 출력 됩니다.

8.  **임의 초기값**에는 매개 변수 비우기를 시작 하는 데 사용할 숫자를 입력 합니다. 

9. 파이프라인을 제출합니다.

## <a name="results-of-hyperparameter-tuning"></a>하이퍼 매개 변수 튜닝 결과

교육이 완료 되 면 다음을 수행 합니다.

+ 스윕 결과를 보려면 모듈을 마우스 오른쪽 단추로 클릭 한 다음 **시각화**를 선택 합니다.

    출력에는 모델 유형에 적용 되는 모든 매개 변수 스윕 및 정확도 메트릭이 포함 되어 있지만 순위에 대해 선택한 메트릭은 "최상"으로 간주 되는 모델을 결정 합니다.

+ 학습 된 모델의 스냅숏을 저장 하려면 **모델 학습** 모듈의 오른쪽 패널에서 **출력 + 로그** 탭을 선택 합니다. **데이터 집합 등록** 아이콘을 선택 하 여 모델을 재사용 가능한 모듈로 저장 합니다.


## <a name="technical-notes"></a>기술 정보

이 섹션에는 구현 세부 정보 및 팁이 포함 되어 있습니다.

### <a name="how-a-parameter-sweep-works"></a>매개 변수 스윕 작동 방법

매개 변수 비우기를 설정 하는 경우 검색 범위를 정의 합니다. 검색은 임의로 선택 된 한정 된 수의 매개 변수를 사용할 수 있습니다. 또는 정의한 매개 변수 공간을 철저 하 게 검색할 수 있습니다.

+ **임의 스윕**:이 옵션은 설정 된 반복 횟수를 사용 하 여 모델을 학습 합니다. 

  반복할 값의 범위를 지정 하 고 모듈은 임의로 선택 된 해당 값의 하위 집합을 사용 합니다. 값은 대체를 사용 하 여 선택 됩니다. 즉, 임의로 임의로 선택한 숫자가 사용 가능한 숫자 풀에서 제거 되지 않습니다. 모든 값을 선택 하는 것은 모든 패스에서 동일 하 게 유지 됩니다.  

+ **전체 그리드**: 전체 그리드를 사용 하는 옵션은 모든 조합이 테스트 됨을 의미 합니다. 이 옵션은 가장 철저 하지만 대부분의 시간이 필요 합니다. 

### <a name="controlling-the-length-and-complexity-of-training"></a>학습의 길이와 복잡성 제어

여러 설정 조합을 반복 하는 경우 시간이 많이 걸릴 수 있으므로 모듈은 프로세스를 제한 하는 여러 가지 방법을 제공 합니다.

+ 모델을 테스트 하는 데 사용 되는 반복 횟수를 제한 합니다.
+ 매개 변수 공간을 제한 합니다.
+ 반복 횟수와 매개 변수 공간을 제한 합니다.

특정 데이터 집합 및 모델에 대해 가장 효율적인 학습 방법을 결정 하는 설정을 사용 하 여 파이프라인을 사용 하는 것이 좋습니다.

### <a name="choosing-an-evaluation-metric"></a>평가 메트릭 선택

테스트가 끝나면 모델은 각 모델에 대 한 정확도를 포함 하는 보고서를 제공 하므로 메트릭 결과를 검토할 수 있습니다.

- 모든 이진 분류 모델에 대해 일관 된 메트릭 집합이 사용 됩니다.
- 정확성은 모든 다중 클래스 분류 모델에 사용 됩니다.
- 회귀 모델에는 다른 메트릭 집합이 사용 됩니다. 

그러나 학습 중에 튜닝 프로세스 중에 생성 되는 모델의 순위를 지정 하는 데 사용할 *단일* 메트릭을 선택 해야 합니다. 비즈니스 문제 및 거짓 긍정 및 거짓 네거티브의 비용에 따라 가장 적합 한 메트릭이 달라질 수 있습니다.

#### <a name="metrics-used-for-binary-classification"></a>이진 분류에 사용 되는 메트릭

-   **정확도** 는 전체 사례에 대 한 실제 결과의 비율입니다.  

-   **전체 자릿수** 는 긍정적인 결과에 대 한 실제 결과의 비율입니다.  

-   **회수** 는 모든 결과에 대 한 모든 올바른 결과의 비율입니다.  

-   **F 점수** 는 전체 자릿수와 회수의 균형을 조정 하는 측정값입니다.  

-   **Cc** 는 x 축에 가양성을 그릴 때 곡선 아래의 영역을 나타내는 값이 고, 참 긍정은 y 축에 표시 됩니다.  

-   **평균 로그 손실은** 두 확률 분포 (true)와 모델에 있는 분포의 차이입니다.  

#### <a name="metrics-used-for-regression"></a>회귀에 사용 되는 메트릭

-   **절대 평균 오차** 는 모델의 모든 오류를 평균으로 계산 합니다. 여기서 *error* 는 true 값에서 예측 된 값의 거리를 의미 합니다. 일반적으로 *Mae*로 축약 됩니다.  

-   **제곱 평균 오차의 제곱근** 은 오류 제곱의 평균을 측정 한 다음 해당 값의 루트를 사용 합니다. 일반적으로 *Rmse*로 축약 됩니다.  

-   **상대 절대 오차** 는 오류를 true 값의 백분율로 나타냅니다.  

-   **상대 제곱 오차** 는 예측 값의 총 제곱 오차로 나누어 총 제곱 오차를 표준화 합니다.  

-   **결정 계수** 는 데이터가 모델에 얼마나 적합 한지를 나타내는 단일 숫자입니다. 값 1은 모델이 데이터와 정확 하 게 일치 함을 의미 합니다. 값이 0 이면 데이터가 무작위로 이거나 모델에 적합 하지 않습니다. *R<sup>2</sup>*, *r<sup>2</sup>* 또는 *r 제곱*이라고 하는 경우가 많습니다.  

### <a name="modules-that-dont-support-a-parameter-sweep"></a>매개 변수 비우기를 지원 하지 않는 모듈

Azure Machine Learning의 거의 모든 학습자는 통합 매개 변수 스윕를 사용 하 여 교차 유효성 검사를 지원 합니다 .이를 통해 파이프라인에 사용할 매개 변수를 선택할 수 있습니다. 학습자 값의 범위 설정을 지원 하지 않는 경우 교차 유효성 검사에 사용할 수 있습니다. 이 경우 스윕에 대해 허용 되는 값 범위를 선택 합니다. 


## <a name="next-steps"></a>다음 단계

Azure Machine Learning에서 [사용 가능한 모듈 세트](module-reference.md)를 참조하세요. 

