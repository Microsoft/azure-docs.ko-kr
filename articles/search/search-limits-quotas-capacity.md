---
title: 계층 및 sku에 대 한 서비스 제한
titleSuffix: Azure Cognitive Search
description: 용량 계획에 사용 되는 서비스 제한 및 Azure Cognitive Search에 대 한 요청 및 응답의 최대 제한입니다.
manager: nitinme
author: HeidiSteen
ms.author: heidist
ms.service: cognitive-search
ms.topic: conceptual
ms.date: 12/17/2019
ms.openlocfilehash: 6ee339cb709a5d825b39b4accf294761c99ee41a
ms.sourcegitcommit: 5d6ce6dceaf883dbafeb44517ff3df5cd153f929
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 01/29/2020
ms.locfileid: "76846275"
---
# <a name="service-limits-in-azure-cognitive-search"></a>Azure Cognitive Search의 서비스 제한

저장소, 워크 로드 및 인덱스 및 기타 개체의 수량에 대 한 최대 제한은 Azure Cognitive Search를 **무료**, **기본**, **표준**또는 **저장소에 최적화** 된 가격 책정 계층 중 어디에 [프로 비전](search-create-service-portal.md) 하는지에 따라 달라 집니다.

+ **무료** 는 Azure 구독과 함께 제공되는 다중 테넌트 공유 서비스입니다. 인덱싱 및 쿼리 요청은 다른 테넌트에서 사용 하는 복제본 및 파티션에서 실행 됩니다.

+ **Basic** 은 프로덕션 워크 로드에 대 한 전용 컴퓨팅 리소스를 작은 규모로 제공 하지만 일부 네트워킹 인프라를 다른 테넌트와 공유 합니다.

+ **표준**은 모든 수준에서 더 많은 스토리지 및 처리 용량으로 전용 컴퓨터에서 실행됩니다. 표준은 4가지 수준인 S1, S2, S3 및 S3 HD로 제공됩니다.

+ **저장소 최적화** 는 **Standard**보다 많은 저장소, 저장소 대역폭 및 메모리가 있는 전용 컴퓨터에서 실행 됩니다. 저장소에 최적화 된 저장소는 L1 및 L2의 두 단계로 제공 됩니다.

> [!NOTE]
> 7 월 1 일부 터는 저장소에 최적화 된 계층을 포함 하 여 모든 계층을 일반적으로 사용할 수 있습니다. 가격 책정 [정보](https://azure.microsoft.com/pricing/details/search/) 페이지에서 모든 가격 책정을 찾을 수 있습니다.

  S3 HD(S3 고밀도)는 특정 작업에 대해 설계되었습니다. [다중 테넌트](search-modeling-multitenant-saas-applications.md) 및 많은 양의 작은 인덱스(인덱스당 1백만 개의 문서, 서비스당 3천 개의 인덱스) 이 계층은 [인덱서 기능](search-indexer-overview.md)을 제공하지 않습니다. S3 HD에서 데이터 수집은 원본에서 인덱스로 데이터를 푸시하는 API 호출을 사용하여 푸시 접근 방식을 활용해야 합니다. 

> [!NOTE]
> 서비스는 특정 계층에서 프로비전됩니다. 용량을 얻기 위해 계층을 건너뛰려면 새 서비스를 프로비전해야 합니다(전체 업그레이드 없음). 자세한 내용은 [SKU 또는 계층 선택](search-sku-tier.md)을 참조하세요. 이미 프로비전한 서비스 내에서 용량을 조정하는 방법에 대한 자세한 내용은 [쿼리 및 인덱싱 워크로드에 대한 리소스 수준 크기 조정](search-capacity-planning.md)을 참조하세요.
>

## <a name="subscription-limits"></a>구독 제한
[!INCLUDE [azure-search-limits-per-subscription](../../includes/azure-search-limits-per-subscription.md)]

## <a name="storage-limits"></a>스토리지 제한
[!INCLUDE [azure-search-limits-per-service](../../includes/azure-search-limits-per-service.md)]

<a name="index-limits"></a>

## <a name="index-limits"></a>인덱스 제한

| 리소스 | 체험판 | 기본&nbsp;<sup>1</sup>  | S1 | S2 | S3 | S3&nbsp;HD | L1 | L2 |
| -------- | ---- | ------------------- | --- | --- | --- | --- | --- | --- |
| 최대 인덱스 |3 |5 또는 15 |50 |200 |200 |파티션당 1000 또는 서비스당 3000 |10 |10 |
| 인덱스 당 최대 단순 필드 |1000 |100 |1000 |1000 |1000 |1000 |1000 |1000 |
| 인덱스 당 최대 복합 컬렉션 필드 |40 |40 |40 |40 |40 |40 |40 |40 |
| 문서 당 모든 복합 컬렉션의 최대 요소 수&nbsp;<sup>2</sup> |3000 |3000 |3000 |3000 |3000 |3000 |3000 |3000 |
| 복합 필드의 최대 깊이 |10 |10 |10 |10 |10 |10 |10 |10 |
| 인덱스당 최대 [확인기](https://docs.microsoft.com/rest/api/searchservice/suggesters) |1 |1 |1 |1 |1 |1 |1 |1 |
| 인덱스당 [최대 점수 매기기](https://docs.microsoft.com/rest/api/searchservice/add-scoring-profiles-to-a-search-index) 프로필 |100 |100 |100 |100 |100 |100 |100 |100 |
| 프로필당 최대 함수 |8 |8 |8 |8 |8 |8 |8 |8 |

<sup>1</sup> 12 월 2017 일 이전에 만든 기본 서비스는 인덱스에서 낮은 제한 (15 대신 5)을 갖습니다. 기본 계층은 인덱스당 100개 필드 제한보다 더 낮은 SKU입니다.

<sup>2</sup> 문서 당 복잡 한 컬렉션에 매우 많은 수의 요소가 있으면 현재 높은 저장소 사용량이 발생 합니다. 이것은 알려진 문제이며 한편, 3000 제한은 모든 서비스 계층에 대 한 안전 상한값입니다. 이 제한은 복합 형식 필드 (`2019-05-06`)를 지 원하는 가장 빠른 GA (일반 공급) API 버전을 사용 하는 인덱싱 작업에만 적용 됩니다. 이전 미리 보기 API 버전을 사용 하는 (복합 유형 필드 지원) 클라이언트를 중단 하지 않으려면 이러한 미리 보기 API 버전을 사용 하는 인덱싱 작업에이 제한을 적용 하지 않습니다. Preview API 버전은 프로덕션 시나리오에는 사용 되지 않으며 고객은 최신 GA API 버전으로 이동 하는 것이 좋습니다.

<a name="document-limits"></a>

## <a name="document-limits"></a>문서 제한 

2018년 10월을 기준으로 모든 지역의 모든 청구 가능 계층(기본, S1, S2, S3, S3 HD)에서 생성된 모든 새 서비스에 대한 문서 제한이 더 이상 적용되지 않습니다. 대부분의 지역에는 11 월/12 월 2017 이후의 문서 수가 무제한으로 있지만 해당 날짜 이후에 문서 제한을 적용 하는 데에는 몇 개의 지역이 있습니다. 검색 서비스를 만든 시기 및 위치에 따라, 여전히 문서 제한이 적용되는 서비스를 실행하고 있을 수 있습니다.

서비스에 문서 제한이 있는지 여부를 확인 하려면 [서비스 통계 가져오기 REST API](https://docs.microsoft.com/rest/api/searchservice/get-service-statistics)를 사용 합니다. 문서 제한은 응답에 반영 되며 제한 없음을 나타내는 `null` 표시 됩니다.

> [!NOTE]
> SKU 관련 문서 한도가 없더라도 모든 인덱스에는 서비스 안정성을 보장 하기 위한 최대 안전 한도가 적용 됩니다. 이 제한은 Lucene에서 제공 됩니다. 모든 Azure Cognitive Search 문서는 내부적으로 하나 이상의 Lucene 문서로 인덱싱됩니다. 검색 문서 당 Lucene 문서 수는 복합 컬렉션 필드의 총 요소 수에 따라 달라 집니다. 각 요소는 별도의 Lucene 문서로 인덱싱됩니다. 예를 들어 복잡 한 컬렉션 필드에 3 개의 요소가 있는 문서는 문서 자체에 대 한 4 개 Lucene 문서와 요소에 대해 3으로 인덱싱됩니다. Lucene 문서의 최대 수는 인덱스 당 약 250억입니다.

### <a name="regions-previously-having-document-limits"></a>이전에 문서 제한이 있던 지역

포털이 문서 제한을 나타내는 경우 서비스는 2017 이전에 생성 되었거나 Azure Cognitive Search 서비스를 호스팅하기 위한 낮은 용량의 클러스터를 사용 하 여 데이터 센터에 생성 된 것입니다.

+ 오스트레일리아 동부
+ 동아시아
+ 인도 중부
+ 일본 서부
+ 미국 중서부

문서 제한을 받는 서비스의 경우 다음과 같은 최대 제한이 적용됩니다.

|  체험판 | Basic | S1 | S2 | S3 | S3&nbsp;HD |
|-------|-------|----|----|----|-------|
|  10000 |1&nbsp;백만 |파티션당 1천 5백만, 서비스당 1억 8천만 |파티션당 6천만, 서비스당 7억 2천만 |파티션당 1억 2천만, 서비스당 14억 |인덱스당 1백만, 파티션당 2억만 |

서비스의 제한 때문에 작업이 차단되는 경우 새 서비스를 만들고 해당 서비스에 모든 콘텐츠를 다시 게시합니다. 백그라운드 작업을 통해 새 하드웨어에 서비스를 원활하게 다시 프로비전할 수 있는 메커니즘은 없습니다.

> [!Note] 
> 2017년 후반 이후에 생성된 S3 고밀도 서비스의 경우 파티션당 2억 개의 문서가 제거되었지만 인덱스당 백만 개의 문서 한도가 남아 있습니다.


### <a name="document-size-limits-per-api-call"></a>API 호출당 문서 크기 제한

인덱스 API를 호출할 때 최대 문서 크기는 약 16MB입니다.

문서 크기는 실제로 인덱스 API 요청 본문의 크기를 제한합니다. 여러 문서를 포함하는 배치를 한꺼번에 인덱스 API에 전달할 수 있으므로 현실적으로 크기 제한은 배치에 포함된 문서 수에 따라 좌우됩니다. 단일 문서를 포함하는 배치의 경우 최대 문서 크기는 16MB의 JSON입니다.

문서 크기를 줄이려면 요청에서 쿼리할 수 없는 데이터를 제외해야 합니다. 이미지 및 기타 이진 데이터는 및 직접 쿼리할 수 없으므로 인덱스에 저장하지 않아야 합니다. 쿼리할 수 없는 데이터를 검색 결과에 통합하려면 리소스에 대한 URL 참조를 저장하는 검색할 수 없는 필드를 정의합니다.

## <a name="indexer-limits"></a>인덱서 제한

최대 실행 시간은 서비스에 대 한 균형 및 안정성을 제공 하기 위해 존재 하지만 큰 데이터 집합은 최대 허용 수보다 많은 인덱싱 시간이 필요할 수 있습니다. 인덱싱 작업이 허용된 최대 시간 내에 완료될 수 없는 경우에는 일정에 따라 실행해보십시오. 스케줄러는 인덱싱 상태를 추적합니다. 어떤 이유로든 예약된 인덱싱 작업이 중단되면 다음에 예약된 실행에서 인덱서가 지난 번에 중단된 위치부터 작업을 이어갈 수 있습니다.


| 리소스 | 무료&nbsp;<sup>1</sup> | 기본&nbsp;<sup>2</sup>| S1 | S2 | S3 | S3&nbsp;HD&nbsp;<sup>3</sup>|L1 |L2 |
| -------- | ----------------- | ----------------- | --- | --- | --- | --- | --- | --- |
| 최대 인덱서 |3 |5 또는 15|50 |200 |200 |N/A |10 |10 |
| 최대 데이터 원본 |3 |5 또는 15 |50 |200 |200 |N/A |10 |10 |
| 최대 기술 집합 <sup>4</sup> |3 |5 또는 15 |50 |200 |200 |N/A |10 |10 |
| 호출당 최대 인덱싱 로드 |10,000개 문서 |최대 문서에 의해서만 제한됨 |최대 문서에 의해서만 제한됨 |최대 문서에 의해서만 제한됨 |최대 문서에 의해서만 제한됨 |N/A |무제한 |무제한 |
| 최소 일정 | 5분 |5분 |5분 |5분 |5분 |5분 |5분 | 5분 |
| 최대 실행 시간 <sup>5</sup> | 1-3분 |24시간 |24시간 |24시간 |24시간 |N/A  |24시간 |24시간 |
| 인식 검색 기능이나 이미지 분석을 통한 Blob 인덱싱의 최대 실행 시간 <sup>5</sup> | 3~10분 |2시간 |2시간 |2시간 |2시간 |N/A  |2시간 |2시간 |
| Blob 인덱서: 최대 Blob 크기(MB) |16 |16 |128 |256 |256 |N/A  |256 |256 |
| Blob 인덱서: Blob에서 추출된 콘텐츠의 최대 문자 |32,000 |64,000 |4&nbsp;백만 |8&nbsp;백만 |16&nbsp;백만 |N/A |4&nbsp;백만 |4&nbsp;백만 |

<sup>1</sup> 무료 계층의 인덱서 최대 실행 시간은 Blob 원본의 경우 3분이고 기타 모든 데이터 원본의 경우 1분입니다. Cognitive Services를 호출 하는 AI 인덱싱의 경우 무료 서비스는 하루 20 개의 무료 트랜잭션으로 제한 되며, 여기서 트랜잭션은 보강 파이프라인을 통해 성공적으로 전달 되는 문서로 정의 됩니다.

<sup>2</sup> 12 월 2017 일 이전에 만든 기본 서비스는 인덱서, 데이터 원본 및 기술력과에서 낮은 제한 (15 대신 5)이 있습니다.

<sup>3</sup> S3 HD 서비스는 인덱서 지원을 포함하지 않습니다.

<sup>4</sup> 기술 집합당 최대 30개의 기술입니다.

<sup>5</sup> 인식 검색 워크로드와 Azure Blob 인덱싱 이미지 분석의 실행 시간은 일반 텍스트 인덱싱보다 짧습니다. 이미지 분석과 자연어 처리는 계산 집약적이며 사용 가능한 처리 능력을 과도하게 많이 소비합니다. 큐의 다른 작업에 실행할 기회를 제공하기 위해 실행 시간이 감소되었습니다.  

> [!NOTE]
> [인덱스 제한](#index-limits)에 설명 된 것 처럼 인덱서는 복합 형식 (`2019-05-06`)을 지 원하는 최신 GA API 버전으로 시작 하는 문서 당 모든 복합 컬렉션에 대해 3000 요소의 상한을 적용 합니다. 즉, 이전 API 버전을 사용 하 여 인덱서를 만든 경우에는이 제한이 적용 되지 않습니다. 최대 호환성을 유지 하려면 이전 API 버전을 사용 하 여 만든 다음, `2019-05-06` 이상의 API 버전으로 업데이트 된 인덱서는 여전히 제한에서 **제외** 됩니다. 고객은 앞에서 설명한 것 처럼 매우 큰 복합 컬렉션을 사용 하는 경우 부정적인 영향에 대해 알고 있어야 하 고 최신 GA API 버전을 사용 하 여 새 인덱서를 만드는 것이 좋습니다.

## <a name="synonym-limits"></a>동의어 제한

허용 되는 최대 동의어 맵 수는 가격 책정 계층에 따라 다릅니다. 각 규칙에는 최대 20 개의 확장이 있을 수 있습니다. 여기서 확장은 동일한 용어입니다. 예를 들어, "cat", "새끼", "feline" 및 "felis"과의 연결 (cats 용 genus은 3 개의 확장으로 계산 됩니다.

| 리소스 | 체험판 | Basic | S1 | S2 | S3 | S3-HD |L1 | L2 |
| -------- | -----|------ |----|----|----|-------|---|----|
| 최대 동의어 맵 |3 |3|5 |10 |20 |20 | 10 | 10 |
| Map 당 최대 규칙 수 |5,000 |20000|20000 |20000 |20000 |20000 | 20000 | 20000  |

## <a name="queries-per-second-qps"></a>초당 쿼리 수(QPS)

QPS 예상 값은 모든 고객에 의해 독립적으로 개발되어야 합니다. 인덱스 크기와 복잡성, 쿼리 크기와 복잡성 및 트래픽 양은 QPS의 주 결정자입니다. 이러한 요소를 알 수 없는 경우 의미 있는 예상 값을 제공할 방법이 없습니다.

예측 값은 전용 리소스(기본 계층 및 표준 계층)에서 실행 중인 서비스에 대해 계산되는 경우 더 예측 가능해 집니다. 매개 변수를 더 잘 제어할 수 있기 때문에 QPS를 더 근접하게 예상할 수 있습니다. 예측에 접근 하는 방법에 대 한 지침은 [Azure Cognitive Search 성능 및 최적화](search-performance-optimization.md)를 참조 하세요.

저장소에 최적화 된 계층의 경우 표준 계층 보다 낮은 쿼리 처리량과 대기 시간이 더 길어질 수 있습니다.  사용할 쿼리 성능을 예측 하는 방법은 표준 계층과 동일 합니다.

## <a name="data-limits-ai-enrichment"></a>데이터 제한 (AI 보강)

[엔터티 인식을](cognitive-search-skill-entity-recognition.md)위해 Text Analytics 리소스를 호출 하는 [AI 보강 파이프라인](cognitive-search-concept-intro.md) , [핵심 문구 추출](cognitive-search-skill-keyphrases.md), [감정 분석](cognitive-search-skill-sentiment.md), [언어 검색](cognitive-search-skill-language-detection.md)및 [PII 검색](cognitive-search-skill-pii-detection.md) 은 데이터 제한에 따라 달라 집니다. 레코드의 최대 크기는 [`String.Length`](https://docs.microsoft.com/dotnet/api/system.string.length)으로 측정 되는 5만 자 여야 합니다. 감성 분석기로 보내기 전에 데이터를 분할해야 할 경우 [텍스트 분할 기술](cognitive-search-skill-textsplit.md)을 사용합니다.

## <a name="throttling-limits"></a>제한 제한

시스템이 최대 용량에 도달 하면 검색 쿼리 및 인덱싱 요청이 제한 됩니다. 제한은 Api 마다 다르게 동작 합니다. 쿼리 Api (검색/제안/자동 완성) 및 인덱싱 Api는 서비스의 부하에 따라 동적으로 제한 됩니다. 인덱스 Api에는 정적 요청 률 제한이 있습니다. 

인덱스와 관련 된 작업에 대 한 정적 전송률 요청 제한:

+ 인덱스 나열 (GET/인덱스): 검색 단위당 초당 5
+ Get Index (GET/indexes/myindex): 검색 단위당 초당 10
+ 인덱스 만들기 (사후/인덱스): 검색 단위당 분당 12 개
+ 인덱스 만들기 또는 업데이트 (PUT/indexes/myindex): 검색 단위당 초당 6 개
+ Delete Index (DELETE/indexes/myindex): 검색 단위당 분당 12 

## <a name="api-request-limits"></a>API 요청 제한
* 요청당 최대 16MB <sup>1</sup>
* URL 길이 최대 8KB
* 인덱스 업로드, 병합 또는 삭제 배치당 최대 1000개의 문서
* $orderby 절에 최대 32개의 필드
* 최대 검색어 크기는 UTF-8 인코딩된 텍스트로 32,766바이트(32KB에서 2바이트를 뺀 값)입니다.

<sup>1</sup> Azure Cognitive Search에서 요청 본문은 16mb의 상한에 적용 됩니다 .이는 이론적 제한으로 제한 되지 않는 개별 필드 또는 컬렉션의 콘텐츠에 대 한 실질적인 제한을 적용 하는 것입니다 (필드 컴퍼지션 및 제한 사항에 대 한 자세한 내용은 [지원 되는 데이터 형식](https://docs.microsoft.com/rest/api/searchservice/supported-data-types) 참조).

## <a name="api-response-limits"></a>API 응답 제한
* 검색 결과 페이지당 반환되는 문서 최대 1000개
* 제안 API 요청당 반환되는 제안 최대 100개

## <a name="api-key-limits"></a>API 키 제한
API 키는 서비스 인증에 사용 됩니다. 두 가지 형식이 있습니다. 관리자 키는 요청 헤더에서 지정되고 서비스에 전체 읽기/쓰기 액세스 권한을 부여합니다. 쿼리 키는 읽기 전용이며 URL에 지정되고 일반적으로 클라이언트 애플리케이션에 배포됩니다.

* 서비스당 최대 2개의 관리자 키
* 서비스당 최대 50개의 쿼리 키